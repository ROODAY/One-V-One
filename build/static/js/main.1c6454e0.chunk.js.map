{"version":3,"sources":["components/Landing/rudy.jpg","components/Landing/landingBackground.jpg","serviceWorker.js","components/Session/context.js","components/Loader/index.js","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/Session/withAuthentication.js","constants/routes.js","components/Session/withAuthorization.js","components/Navigation/AuthButtons.js","components/Navigation/NonAuthButtons.js","components/Navigation/SearchForm.js","components/Navigation/index.js","components/Scrollers/Battle/BattleCard.js","components/Scrollers/Battle/index.js","components/Scrollers/Post/PostCard.js","components/Scrollers/Post/index.js","components/Home/index.js","components/Battle/index.js","components/ChangePassword/index.js","components/Settings/DisplayNameForm.js","components/Settings/index.js","components/Profile/ProfileForm.js","components/Profile/index.js","components/Search/index.js","components/Signup/index.js","components/Signin/index.js","components/NotFound/index.js","components/ForgotPassword/index.js","components/Landing/index.js","components/Post/index.js","App.js","index.js","components/Landing/jing.jpg"],"names":["module","exports","__webpack_require__","p","Boolean","window","location","hostname","match","AuthUserContext","React","createContext","Loader","react_default","a","createElement","this","props","visible","className","Spinner_default","animation","variant","Component","FirebaseContext","withFirebase","Consumer","firebase","Object","assign","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","_this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","user","uid","db","ref","concat","users","post","posts","song","storage","child","songs","app","initializeApp","database","EmailAuthProvider","withAuthentication","WithAuthentication","_React$Component","possibleConstructorReturn","getPrototypeOf","call","state","authUser","showLoader","updateAuth","bind","assertThisInitialized","inherits","createClass","key","value","_this2","listener","onAuthStateChanged","setState","Session_context","Provider","components_Loader","HOME","SEARCH","withAuthorization","condition","WithAuthorization","apply","arguments","context","history","push","_ref","contextType","compose","withRouter","AuthButtons","displayName","lib","to","Nav_default","Link","ROUTES","onClick","NonAuthButtons","INITIAL_STATE","search","SearchForm","onSubmit","event","objectSpread","encodeURI","preventDefault","onChange","defineProperty","target","name","isInvalid","Form_default","inline","Control","type","placeholder","Button_default","disabled","Navigation","Navbar_default","bg","expand","Brand","Toggle","aria-controls","Collapse","id","Navigation_AuthButtons","Navigation_NonAuthButtons","BattleCard","Card_default","style","width","Body","Title","Text","battleId","makeid","length","text","possible","i","charAt","Math","floor","random","PostCard","handleChange","audioplayer","createRef","rating","listens","current","onplaying","update","es_Card","title","Subtitle","description","src","audioURL","controls","ButtonToolbar","ToggleButtonGroup","ToggleButton","role","aria-label","PostScroller","hasMoreItems","nextHref","page","on","snapshot","val","values","loader","Container_default","Row_default","Col_default","md","react_infinite_scroller_default","pageStart","loadMore","loadItems","hasMore","map","Post_PostCard","username","audioPath","Home","Tabs_default","defaultActiveKey","Tab_default","eventKey","Scrollers_Post","Battle","fluid","autoCorrect","autoCapitalize","size","loop","params","battleid","passwordOne","passwordTwo","passwordOld","error","success","ChangePasswordForm","_this$state","cred","credential","reauthenticateAndRetrieveDataWithCredential","then","catch","_this$state2","Group","controlId","Label","message","DisplayNameForm","updateProfile","Settings","Settings_DisplayNameForm","ChangePassword","bio","artists","genres","ProfileForm","userData","_this3","as","rows","es","multiple","selected","options","Profile","Profile_ProfileForm","components_Settings","Search","searchTerm","queryString","parse","q","decodeURI","nProps","term","SignupBase","userFields","set","Signup","SigninBase","Signin","NotFound","ForgotPassword","Landing","dist","react_landing_page_dist","color","backgroundImage","background","mt","textAlign","flexWrap","justifyContent","icon","alignItems","authorAvatar","jingPhoto","authorName","authorTitle","fullName","avatar","href","rudyPhoto","is","children","ml","showForm","recording","audioBlob","transcript","countdownDate","Date","now","Post","replace","c","crypto","getRandomValues","Uint8Array","toString","put","getDownloadURL","audioUrl","countdown","startRecording","navigator","mediaDevices","getUserMedia","audio","stream","mediaRecorder","MediaRecorder","recognition","webkitSpeechRecognition","start","onresult","speechToText","results","onnomatch","date","getApi","audioChunks","addEventListener","data","Blob","URL","createObjectURL","reader","FileReader","readAsDataURL","onloadend","result","setTimeout","stop","index_es","autoStart","renderer","seconds","react_router_dom","components_Navigation","nav","react_router","exact","path","component","ReactDOM","render","Firebase_context","src_App_0","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,ucCYpBC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,iLCdSC,EAFSC,IAAMC,cAAc,gCCiB7BC,2LAZX,OACEC,EAAAC,EAAAC,cAAA,WACGC,KAAKC,MAAMC,SACVL,EAAAC,EAAAC,cAAA,OAAKI,UAAU,oBACbN,EAAAC,EAAAC,cAACK,EAAAN,EAAD,CAASO,UAAU,SAASC,QAAQ,qBAN3BC,cCHfC,EAAkBd,IAAMC,cAAc,MAE/Bc,EAAe,SAAAF,GAAS,OAAI,SAAAN,GAAK,OAC5CJ,EAAAC,EAAAC,cAACS,EAAgBE,SAAjB,KACG,SAAAC,GAAQ,OAAId,EAAAC,EAAAC,cAACQ,EAADK,OAAAC,OAAA,GAAeZ,EAAf,CAAsBU,SAAUA,SAIlCH,qBCLTM,wBAAS,CACbC,OAAQC,0CACRC,WAAYD,4BACZE,YAAaF,mCACbG,UAAWH,YACXI,cAAeJ,wBACfK,kBAAmBL,gBCRNM,EDYb,SAAAA,IAAc,IAAAC,EAAAvB,KAAAY,OAAAY,EAAA,EAAAZ,CAAAZ,KAAAsB,GAAAtB,KAUdyB,iCAAmC,SAACC,EAAOC,GAAR,OACjCJ,EAAKK,KAAKC,+BAA+BH,EAAOC,IAXpC3B,KAad8B,6BAA+B,SAACJ,EAAOC,GAAR,OAC7BJ,EAAKK,KAAKG,2BAA2BL,EAAOC,IAdhC3B,KAgBdgC,UAAY,kBAAMT,EAAKK,KAAKK,WAhBdjC,KAkBdkC,gBAAkB,SAAAR,GAAK,OAAIH,EAAKK,KAAKO,uBAAuBT,IAlB9C1B,KAoBdoC,iBAAmB,SAAAT,GAAQ,OACzBJ,EAAKK,KAAKS,YAAYC,eAAeX,IArBzB3B,KAwBduC,KAAO,SAAAC,GAAG,OAAIjB,EAAKkB,GAAGC,IAAR,SAAAC,OAAqBH,KAxBrBxC,KAyBd4C,MAAQ,kBAAMrB,EAAKkB,GAAGC,IAAI,UAzBZ1C,KA2Bd6C,KAAO,SAAAL,GAAG,OAAIjB,EAAKkB,GAAGC,IAAR,SAAAC,OAAqBH,KA3BrBxC,KA4Bd8C,MAAQ,kBAAMvB,EAAKkB,GAAGC,IAAI,UA5BZ1C,KA8Bd+C,KAAO,SAAAP,GAAG,OAAIjB,EAAKyB,QAAQN,MAAMO,MAAnB,SAAAN,OAAkCH,KA9BlCxC,KA+BdkD,MAAQ,kBAAM3B,EAAKyB,QAAQN,MAAMO,MAAM,UA9BrCE,IAAIC,cAActC,GAElBd,KAAK4B,KAAOuB,IAAIvB,OAChB5B,KAAKyC,GAAKU,IAAIE,WACdrD,KAAKgD,QAAUG,IAAIH,UACnBhD,KAAKsD,kBAAoBH,IAAIvB,KAAK0B,mBEgCvBC,EA/CY,SAAAhD,GAAa,IAChCiD,EADgC,SAAAC,GAEpC,SAAAD,EAAYvD,GAAO,IAAAsB,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAZ,KAAAwD,IACjBjC,EAAAX,OAAA8C,EAAA,EAAA9C,CAAAZ,KAAAY,OAAA+C,EAAA,EAAA/C,CAAA4C,GAAAI,KAAA5D,KAAMC,KAED4D,MAAQ,CACXC,SAAU,KACVC,YAAY,GAGdxC,EAAKyC,WAAazC,EAAKyC,WAAWC,KAAhBrD,OAAAsD,EAAA,EAAAtD,CAAAW,IARDA,EAFiB,OAAAX,OAAAuD,EAAA,EAAAvD,CAAA4C,EAAAC,GAAA7C,OAAAwD,EAAA,EAAAxD,CAAA4C,EAAA,EAAAa,IAAA,oBAAAC,MAAA,WAahB,IAAAC,EAAAvE,KAClBA,KAAKwE,SAAWxE,KAAKC,MAAMU,SAASiB,KAAK6C,mBACvC,SAAAX,GACEA,EACIS,EAAKG,SAAS,CAAEZ,aAChBS,EAAKG,SAAS,CAAEZ,SAAU,OAC9BS,EAAKG,SAAS,CAAEX,YAAY,QAnBE,CAAAM,IAAA,uBAAAC,MAAA,WAyBlCtE,KAAKwE,aAzB6B,CAAAH,IAAA,aAAAC,MAAA,SA4BzBR,GACTA,EACI9D,KAAK0E,SAAS,CAAEZ,aAChB9D,KAAK0E,SAAS,CAAEZ,SAAU,SA/BI,CAAAO,IAAA,SAAAC,MAAA,WAmClC,OACEzE,EAAAC,EAAAC,cAAC4E,EAAgBC,SAAjB,CAA0BN,MAAO,CAACR,SAAU9D,KAAK6D,MAAMC,SAAUE,WAAYhE,KAAKgE,aAChFnE,EAAAC,EAAAC,cAAC8E,EAAD,CAAQ3E,QAASF,KAAK6D,MAAME,aAC5BlE,EAAAC,EAAAC,cAACQ,EAAcP,KAAKC,YAtCUuD,EAAA,CACL9D,IAAMa,WA2CvC,OAAOE,EAAa+C,YCjDTsB,EAAO,QAKPC,EAAS,UCuCPC,EArCW,SAAAC,GAAS,OAAI,SAAA1E,GAAa,IAC5C2E,EAD4C,SAAAzB,GAAA,SAAAyB,IAAA,OAAAtE,OAAAY,EAAA,EAAAZ,CAAAZ,KAAAkF,GAAAtE,OAAA8C,EAAA,EAAA9C,CAAAZ,KAAAY,OAAA+C,EAAA,EAAA/C,CAAAsE,GAAAC,MAAAnF,KAAAoF,YAAA,OAAAxE,OAAAuD,EAAA,EAAAvD,CAAAsE,EAAAzB,GAAA7C,OAAAwD,EAAA,EAAAxD,CAAAsE,EAAA,EAAAb,IAAA,oBAAAC,MAAA,WAG5B,IAAA/C,EAAAvB,KAClBA,KAAKwE,SAAWxE,KAAKC,MAAMU,SAASiB,KAAK6C,mBACvC,SAAAX,GACEvC,EAAK8D,QAAQrB,WAAWF,GACnBmB,EAAUnB,IACbvC,EAAKtB,MAAMqF,QAAQC,KDbT,eCK8B,CAAAlB,IAAA,uBAAAC,MAAA,WAe9CtE,KAAKwE,aAfyC,CAAAH,IAAA,SAAAC,MAAA,WAkBvC,IAAAC,EAAAvE,KACP,OACEH,EAAAC,EAAAC,cAAC4E,EAAgBjE,SAAjB,KACG,SAAA8E,GAA4B,IAA1B1B,EAA0B0B,EAA1B1B,SAEC,OAFyB0B,EAAhBxB,WAEFiB,EAAUnB,GAAYjE,EAAAC,EAAAC,cAACQ,EAAcgE,EAAKtE,OAAY,WAvBvBiF,EAAA,CAClBxF,IAAMa,WA8BtC,OA9BM2E,EACGO,YAAchG,EA6BhBiG,YACLC,IACAlF,EAFKiF,CAGLR,KCjCEU,mLACK,IAAArE,EAAAvB,KACP,OACEH,EAAAC,EAAAC,cAAC4E,EAAgBjE,SAAjB,KACG,SAAA8E,GAAA,IAAE1B,EAAF0B,EAAE1B,SAAF0B,EAAYxB,WAAZ,OACCnE,EAAAC,EAAAC,cAAA,OAAKI,UAAU,QACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,WAAf,OAA8B2D,EAAS+B,aACvChG,EAAAC,EAAAC,cAAC+F,EAAA,cAAD,CAAeC,GFXJ,YEYRlG,EAAAC,EAAAC,cAACiG,EAAAlG,EAAImG,KAAL,iBAEHpG,EAAAC,EAAAC,cAAC+F,EAAA,cAAD,CAAeC,GAAIG,GACjBrG,EAAAC,EAAAC,cAACiG,EAAAlG,EAAImG,KAAL,CAAUE,QAAS5E,EAAKtB,MAAMU,SAASqB,WAAvC,uBAXYzB,aAqBXE,IAAamF,GCVbQ,mLAbX,OACEvG,EAAAC,EAAAC,cAAA,OAAKI,UAAU,QACbN,EAAAC,EAAAC,cAAC+F,EAAA,cAAD,CAAeC,GHPD,WGQZlG,EAAAC,EAAAC,cAACiG,EAAAlG,EAAImG,KAAL,iBAEFpG,EAAAC,EAAAC,cAAC+F,EAAA,cAAD,CAAeC,GHTD,WGUZlG,EAAAC,EAAAC,cAACiG,EAAAlG,EAAImG,KAAL,yBARmB1F,8DCEvB8F,EAAgB,CACpBC,OAAQ,IAGJC,cACJ,SAAAA,EAAYtG,GAAO,IAAAsB,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAZ,KAAAuG,IACjBhF,EAAAX,OAAA8C,EAAA,EAAA9C,CAAAZ,KAAAY,OAAA+C,EAAA,EAAA/C,CAAA2F,GAAA3C,KAAA5D,KAAMC,KAKRuG,SAAW,SAAAC,GAAS,IACVH,EAAW/E,EAAKsC,MAAhByC,OACR/E,EAAKmD,SAAL9D,OAAA8F,EAAA,EAAA9F,CAAA,GAAmByF,IACnB9E,EAAKtB,MAAMqF,QAAQC,KAAnB,GAAA5C,OAA2BuD,EAA3B,OAAAvD,OAA8CgE,UAAUL,KACxDG,EAAMG,kBAVWrF,EAanBsF,SAAW,SAAAJ,GACTlF,EAAKmD,SAAL9D,OAAAkG,EAAA,EAAAlG,CAAA,GAAiB6F,EAAMM,OAAOC,KAAOP,EAAMM,OAAOzC,SAXlD/C,EAAKsC,MAALjD,OAAA8F,EAAA,EAAA9F,CAAA,GAAkByF,GAHD9E,wEAiBV,IACC+E,EAAWtG,KAAK6D,MAAhByC,OACFW,EAAuB,KAAXX,EAElB,OACEzG,EAAAC,EAAAC,cAACmH,EAAApH,EAAD,CAAMqH,QAAM,EAACX,SAAUxG,KAAKwG,UAC1B3G,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACEJ,KAAK,SACL1C,MAAOgC,EACPO,SAAU7G,KAAK6G,SACfQ,KAAK,OACLC,YAAY,SACZnH,UAAU,YACZN,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAQQ,QAAQ,kBAAkB+G,KAAK,SAASG,SAAUP,GAA1D,kBA/BiB1G,aC2BVkH,GDUA9B,YAAWY,2LClCtB,OACE1G,EAAAC,EAAAC,cAAC4E,EAAgBjE,SAAjB,KACG,SAAA8E,GAAA,IAAE1B,EAAF0B,EAAE1B,SAAF0B,EAAYxB,WAAZ,OACCnE,EAAAC,EAAAC,cAAC2H,EAAA5H,EAAD,CAAQ6H,GAAG,QAAQC,OAAO,KAAKzH,UAAU,cACvCN,EAAAC,EAAAC,cAAC+F,EAAA,cAAD,CAAeC,GLlBJ,KKmBTlG,EAAAC,EAAAC,cAAC2H,EAAA5H,EAAO+H,MAAR,oBAEFhI,EAAAC,EAAAC,cAAC2H,EAAA5H,EAAOgI,OAAR,CAAeC,gBAAc,qBAC7BlI,EAAAC,EAAAC,cAAC2H,EAAA5H,EAAOkI,SAAR,CAAiBC,GAAG,oBAClBpI,EAAAC,EAAAC,cAACiG,EAAAlG,EAAD,CAAKK,UAAU,WACZ2D,GAAYjE,EAAAC,EAAAC,cAAC+F,EAAA,cAAD,CAAeC,GAAIG,GAC7BrG,EAAAC,EAAAC,cAACiG,EAAAlG,EAAImG,KAAL,eAEF,GAEFnC,EAAWjE,EAAAC,EAAAC,cAACmI,EAAD,MAAkBrI,EAAAC,EAAAC,cAACoI,EAAD,iBAjBnB5H,kJCWV6H,oLAhBX,OACEvI,EAAAC,EAAAC,cAACsI,GAAAvI,EAAD,CAAMwI,MAAO,CAAEC,MAAO,UACpB1I,EAAAC,EAAAC,cAACsI,GAAAvI,EAAK0I,KAAN,KACE3I,EAAAC,EAAAC,cAACsI,GAAAvI,EAAK2I,MAAN,+BACA5I,EAAAC,EAAAC,cAACsI,GAAAvI,EAAK4I,KAAN,iCAGA7I,EAAAC,EAAAC,cAAC+F,EAAA,cAAD,CAAeC,GAAI,WAAa/F,KAAKC,MAAM0I,UACzC9I,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAQQ,QAAQ,WAAhB,kBAVaC,aCEzB,SAASqI,GAAOC,GAId,IAHA,IAAIC,EAAO,GACPC,EAAW,iEAENC,EAAI,EAAGA,EAAIH,EAAQG,IAC1BF,GAAQC,EAASE,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,EAASF,SAE9D,OAAOC,EAGoBvI,wDCNvB8I,eACJ,SAAAA,EAAYpJ,EAAOoF,GAAS,IAAA9D,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAZ,KAAAqJ,IAC1B9H,EAAAX,OAAA8C,EAAA,EAAA9C,CAAAZ,KAAAY,OAAA+C,EAAA,EAAA/C,CAAAyI,GAAAzF,KAAA5D,KAAMC,EAAOoF,KAERiE,aAAe/H,EAAK+H,aAAarF,KAAlBrD,OAAAsD,EAAA,EAAAtD,CAAAW,IAEpBA,EAAKgI,YAAc7J,IAAM8J,YAEzBjI,EAAKsC,MAAQ,CACXS,MAAO/C,EAAKtB,MAAMwJ,OAClBC,QAASnI,EAAKtB,MAAMyJ,SAAW,GATPnI,mFAaR,IAAAgD,EAAAvE,KAClBA,KAAKuJ,YAAYI,QAAQC,UAAY,SAAAnD,GACnC,IAAMiD,EAAUnF,EAAKV,MAAM6F,QAAU,EACrCnF,EAAKG,SAAS,CAACgF,YACfnF,EAAKtE,MAAMU,SAASkC,KAAK0B,EAAKtE,MAAMgI,IAAI4B,OAAO,CAC7CH,kDAKOpF,EAAOmC,GAEhBnC,EADEA,EAAMuE,OAAS,EACTvE,EAAM,GACLA,EAAMuE,OAAS,EAChBvE,EAAM,GAEN,EAEVtE,KAAK0E,SAAS,CAAEJ,UAChBtE,KAAKC,MAAMU,SAASkC,KAAK7C,KAAKC,MAAMgI,IAAI4B,OAAO,CAC7CJ,OAAQnF,qCAKV,OACEzE,EAAAC,EAAAC,cAAC+J,GAAA,EAAD,CAAMxB,MAAO,CAAEC,MAAO,gBACpB1I,EAAAC,EAAAC,cAAC+J,GAAA,EAAKtB,KAAN,KACE3I,EAAAC,EAAAC,cAAC+J,GAAA,EAAKrB,MAAN,KAAazI,KAAKC,MAAM8J,OACxBlK,EAAAC,EAAAC,cAAC+J,GAAA,EAAKE,SAAN,CAAe7J,UAAU,mBAAmBH,KAAKC,MAAMsC,MACvD1C,EAAAC,EAAAC,cAAC+J,GAAA,EAAKpB,KAAN,KACG1I,KAAKC,MAAMgK,aAEdpK,EAAAC,EAAAC,cAAA,SAAOmK,IAAKlK,KAAKC,MAAMkK,SAAUC,UAAQ,EAAC1H,IAAK1C,KAAKuJ,cAAqB1J,EAAAC,EAAAC,cAAA,WACzEF,EAAAC,EAAAC,cAACsK,GAAA,EAAD,KACExK,EAAAC,EAAAC,cAACuK,GAAA,EAAD,CACEhG,MAAOtE,KAAK6D,MAAMS,MAClBuC,SAAU7G,KAAKsJ,aACfjC,KAAK,WACLL,KAAK,WACLnH,EAAAC,EAAAC,cAACwK,GAAA,EAAD,CAAcjG,MAAO,GAAGzE,EAAAC,EAAAC,cAAA,QAAMyK,KAAK,MAAMC,aAAW,QAA5B,iBACxB5K,EAAAC,EAAAC,cAACwK,GAAA,EAAD,CAAcjG,MAAO,GAAGzE,EAAAC,EAAAC,cAAA,QAAMyK,KAAK,MAAMC,aAAW,WAA5B,kBAG1B5K,EAAAC,EAAAC,cAAA,QAAMI,UAAU,UAAUqK,KAAK,MAAMC,aAAW,WAAhD,iBAA+DzK,KAAK6D,MAAM6F,mBA1D/DnJ,aAkERE,KAAa4I,ICrEtBqB,eACJ,SAAAA,EAAYzK,GAAO,IAAAsB,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAZ,KAAA0K,IACjBnJ,EAAAX,OAAA8C,EAAA,EAAA9C,CAAAZ,KAAAY,OAAA+C,EAAA,EAAA/C,CAAA8J,GAAA9G,KAAA5D,KAAMC,KAED4D,MAAQ,CACXf,MAAO,GACP6H,cAAc,EACdC,SAAU,MANKrJ,yEAUTsJ,GAAM,IAAAtG,EAAAvE,KACdA,KAAKC,MAAMU,SAASmC,QAAQgI,GAAG,QAAS,SAAAC,GACtC,GAAIA,EAASC,MAAO,CAClB,IAAIlI,EAAQlC,OAAOqK,OAAOF,EAASC,OACnCzG,EAAKG,SAAS,CAAE5B,QAAO6H,cAAc,wCAMzC,IAAMO,EAASrL,EAAAC,EAAAC,cAAA,OAAKsE,IAAI,UAAT,cACf,OACExE,EAAAC,EAAAC,cAACoL,EAAArL,EAAD,KACED,EAAAC,EAAAC,cAACqL,GAAAtL,EAAD,CAAKK,UAAU,6BACbN,EAAAC,EAAAC,cAACsL,GAAAvL,EAAD,CAAKwL,GAAG,QACNzL,EAAAC,EAAAC,cAACwL,GAAAzL,EAAD,CACI0L,UAAW,EACXC,SAAUzL,KAAK0L,UAAUzH,KAAKjE,MAC9B2L,QAAS3L,KAAK6D,MAAM8G,aACpBO,OAAQA,GACRrL,EAAAC,EAAAC,cAAA,OAAKI,UAAU,SACZH,KAAK6D,MAAMf,MAAM8I,IAAI,SAAC/I,EAAMmG,GAC3B,OAAOnJ,EAAAC,EAAAC,cAAC8L,GAAD,CAAUxH,IAAK2E,EAAGU,QAAS7G,EAAK6G,QAASD,OAAQ5G,EAAK4G,OAAQxB,GAAIpF,EAAKoF,GAAI1F,KAAMM,EAAKiJ,SAAU/B,MAAOlH,EAAKkH,MAAOE,YAAapH,EAAKoH,YAAaE,SAAUtH,EAAKkJ,0BAjCjKxL,aA4CZE,KAAaiK,ICxCtBsB,4LAEF,OACEnM,EAAAC,EAAAC,cAACkM,EAAAnM,EAAD,CAAMoM,iBAAiB,QAAQjE,GAAG,4BAChCpI,EAAAC,EAAAC,cAACoM,EAAArM,EAAD,CAAKsM,SAAS,QAAQrC,MAAM,SAC1BlK,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,mCADF,KAEEF,EAAAC,EAAAC,cAAC+F,EAAA,cAAD,CAAeC,GVVP,SUWLlG,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAQQ,QAAQ,WAAhB,YAILT,EAAAC,EAAAC,cAACsM,GAAD,QAED,UAdU9L,cAyBJyE,KADG,SAAAlB,GAAQ,QAAMA,GACjBkB,CAA6BgH,ICwB7BM,yOAzCX,OACEzM,EAAAC,EAAAC,cAACoL,EAAArL,EAAD,CAAWyM,OAAO,EAAMpM,UAAU,oBAChCN,EAAAC,EAAAC,cAACqL,GAAAtL,EAAD,CAAKK,UAAU,iBACbN,EAAAC,EAAAC,cAACsL,GAAAvL,EAAD,CAAKwL,GAAI,EAAGnL,UAAU,oBACpBN,EAAAC,EAAAC,cAACoL,EAAArL,EAAD,CAAWK,UAAU,oBACnBN,EAAAC,EAAAC,cAACqL,GAAAtL,EAAD,CAAKK,UAAU,0BACbN,EAAAC,EAAAC,cAAA,WAASI,UAAU,eACjBN,EAAAC,EAAAC,cAAA,SAAOsH,KAAK,OAAOY,GAAG,eAAeuE,YAAY,MAAMC,eAAe,MAAMC,KAAK,OACjF7M,EAAAC,EAAAC,cAAA,UAAQkI,GAAG,gBAAX,0BAEApI,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cAAc8H,GAAG,8BAEhCpI,EAAAC,EAAAC,cAAA,SAAOkI,GAAG,gBAAgBmC,UAAQ,EAACuC,MAAI,KAEzC9M,EAAAC,EAAAC,cAAA,WAASI,UAAU,eACjBN,EAAAC,EAAAC,cAAA,SAAOsH,KAAK,OAAOY,GAAG,gBAAgBuE,YAAY,MAAMC,eAAe,MAAMC,KAAK,OAClF7M,EAAAC,EAAAC,cAAA,UAAQkI,GAAG,iBAAX,0BAEApI,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cAAc8H,GAAG,+BAEhCpI,EAAAC,EAAAC,cAAA,SAAOkI,GAAG,iBAAiBmC,UAAQ,EAACuC,MAAI,MAG5C9M,EAAAC,EAAAC,cAACqL,GAAAtL,EAAD,CAAKK,UAAU,YACbN,EAAAC,EAAAC,cAAA,uBACcC,KAAKC,MAAMT,MAAMoN,OAAOC,SADtC,IACgDhN,EAAAC,EAAAC,cAAA,WADhD,yBAEwBF,EAAAC,EAAAC,cAAA,WAFxB,yBAQNF,EAAAC,EAAAC,cAACsL,GAAAvL,EAAD,CAAKwL,GAAI,EAAGnL,UAAU,YAAtB,qBA7CWI,cCDf8F,GAAgB,CACpByG,YAAa,GACbC,YAAa,GACbC,YAAa,GACbC,MAAO,KACPC,SAAS,GAGLC,eACJ,SAAAA,EAAYlN,GAAO,IAAAsB,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAZ,KAAAmN,IACjB5L,EAAAX,OAAA8C,EAAA,EAAA9C,CAAAZ,KAAAY,OAAA+C,EAAA,EAAA/C,CAAAuM,GAAAvJ,KAAA5D,KAAMC,KAKRuG,SAAW,SAAAC,GACTA,EAAMG,iBACNrF,EAAKmD,SAAS,CAAEuI,MAAO,KAAMC,SAAS,IAFpB,IAAAE,EAGmB7L,EAAKsC,MAAlCmJ,EAHUI,EAGVJ,YAAaF,EAHHM,EAGGN,YAEjBO,EAAO9L,EAAKtB,MAAMU,SAAS2C,kBAAkBgK,WAC7C/L,EAAKtB,MAAMyB,MACXsL,GAGJzL,EAAKtB,MAAMU,SAASiB,KAAKS,YAAYkL,4CAA4CF,GAC9EG,KAAK,WACJ,OAAOjM,EAAKtB,MAAMU,SAASyB,iBAAiB0K,KAE7CU,KAAK,WACJjM,EAAKmD,SAAL9D,OAAA8F,EAAA,EAAA9F,CAAA,GAAmByF,GAAnB,CAAkC6G,SAAS,OAE5CO,MAAM,SAAAR,GACL1L,EAAKmD,SAAS,CAAEuI,aAxBH1L,EA4BnBsF,SAAW,SAAAJ,GACTlF,EAAKmD,SAAL9D,OAAAkG,EAAA,EAAAlG,CAAA,GAAiB6F,EAAMM,OAAOC,KAAOP,EAAMM,OAAOzC,SA1BlD/C,EAAKsC,MAALjD,OAAA8F,EAAA,EAAA9F,CAAA,GAAkByF,IAHD9E,wEAgCV,IAAAmM,EAC2D1N,KAAK6D,MAA/DmJ,EADDU,EACCV,YAAaF,EADdY,EACcZ,YAAaC,EAD3BW,EAC2BX,YAAaE,EADxCS,EACwCT,MAAOC,EAD/CQ,EAC+CR,QAChDjG,EACJ6F,IAAgBC,GAA+B,KAAhBD,GAAsC,KAAhBE,EAEvD,OACEnN,EAAAC,EAAAC,cAACmH,EAAApH,EAAD,CAAM0G,SAAUxG,KAAKwG,UACnB3G,EAAAC,EAAAC,cAAA,6BAEAF,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,mBACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,yBACAhO,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACEJ,KAAK,cACL1C,MAAO0I,EACPnG,SAAU7G,KAAK6G,SACfQ,KAAK,WACLC,YAAY,sBAGhBzH,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,YACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,qBACAhO,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACEJ,KAAK,cACL1C,MAAOwI,EACPjG,SAAU7G,KAAK6G,SACfQ,KAAK,WACLC,YAAY,kBAGhBzH,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,mBACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,6BACAhO,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACEJ,KAAK,cACL1C,MAAOyI,EACPlG,SAAU7G,KAAK6G,SACfQ,KAAK,WACLC,YAAY,0BAGhBzH,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAQQ,QAAQ,UAAU+G,KAAK,SAASG,SAAUP,GAAlD,QAICgG,GAASpN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,SAAS8M,EAAMa,SACrCZ,GAAWrN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,WAAb,6BA7EaI,aAmFlBE,KAAa0M,IC3FtB9G,GAAgB,CACpB4G,MAAO,KACPC,SAAS,GAGLa,eACJ,SAAAA,EAAY9N,GAAO,IAAAsB,EAAAX,OAAAY,EAAA,EAAAZ,CAAAZ,KAAA+N,IACjBxM,EAAAX,OAAA8C,EAAA,EAAA9C,CAAAZ,KAAAY,OAAA+C,EAAA,EAAA/C,CAAAmN,GAAAnK,KAAA5D,KAAMC,KAMRuG,SAAW,SAAAC,GACTA,EAAMG,iBACNrF,EAAKmD,SAAS,CAAEuI,MAAO,KAAMC,SAAS,IAFpB,IAGVrH,EAAgBtE,EAAKsC,MAArBgC,YAERtE,EAAKtB,MAAMU,SAASiB,KAAKS,YACtB2L,cAAc,CACbnI,YAAaA,IAEd2H,KAAK,WACJjM,EAAKmD,SAAL9D,OAAA8F,EAAA,EAAA9F,CAAA,GAAmByF,GAAnB,CAAkC6G,SAAS,OAE5CO,MAAM,SAAAR,GACL1L,EAAKmD,SAAS,CAAEuI,aApBH1L,EAwBnBsF,SAAW,SAAAJ,GACTlF,EAAKmD,SAAL9D,OAAAkG,EAAA,EAAAlG,CAAA,GAAiB6F,EAAMM,OAAOC,KAAOP,EAAMM,OAAOzC,SAtBlD,IAAMuB,EAActE,EAAKtB,MAAM4F,YAHd,OAIjBtE,EAAKsC,MAALjD,OAAA8F,EAAA,EAAA9F,CAAA,GAAkByF,GAAlB,CAAiCR,gBAJhBtE,wEA4BV,IAAA6L,EACiCpN,KAAK6D,MAArCgC,EADDuH,EACCvH,YAAaoH,EADdG,EACcH,MAAOC,EADrBE,EACqBF,QACtBjG,EAA4B,KAAhBpB,EAElB,OACEhG,EAAAC,EAAAC,cAACmH,EAAApH,EAAD,CAAM0G,SAAUxG,KAAKwG,UACnB3G,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,eACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACEJ,KAAK,cACL1C,MAAOuB,EACPgB,SAAU7G,KAAK6G,SACfQ,KAAK,UAGTxH,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAQQ,QAAQ,UAAU+G,KAAK,SAASG,SAAUP,GAAlD,QAICgG,GAASpN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,SAAS8M,EAAMa,SACrCZ,GAAWrN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,WAAb,kDAjDUI,aAuDfE,KAAasN,IClCbE,4LApBX,OACEpO,EAAAC,EAAAC,cAAC4E,EAAgBjE,SAAjB,KACG,SAAAoD,GAAQ,OACLjE,EAAAC,EAAAC,cAACoL,EAAArL,EAAD,CAAWK,UAAU,sBACnBN,EAAAC,EAAAC,cAACqL,GAAAtL,EAAD,CAAKK,UAAU,6BACbN,EAAAC,EAAAC,cAACsL,GAAAvL,EAAD,CAAKwL,GAAG,QACNzL,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,qBAAa+D,EAASpC,OACtB7B,EAAAC,EAAAC,cAACmO,GAAD,CAAiBrI,YAAa/B,EAAS+B,cACvChG,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACoO,GAAD,CAAoBzM,MAAOoC,EAASpC,oBAZ/BnB,wBCDjB8F,WAAgB,CACpB+H,IAAK,GACLC,QAAS,GACTC,OAAQ,GACRrB,MAAO,KACPC,SAAS,EACTnJ,YAAY,IAGRwK,eACJ,SAAAA,EAAYtO,GAAO,IAAAsB,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAZ,KAAAuO,IACjBhN,EAAAX,OAAA8C,EAAA,EAAA9C,CAAAZ,KAAAY,OAAA+C,EAAA,EAAA/C,CAAA2N,GAAA3K,KAAA5D,KAAMC,KAiBRuG,SAAW,SAAAC,GACTA,EAAMG,iBACNrF,EAAKmD,SAAS,CAAEuI,MAAO,KAAMC,SAAS,IAFpB,IAAAE,EAGe7L,EAAKsC,MAA9BuK,EAHUhB,EAGVgB,IAAKC,EAHKjB,EAGLiB,QAASC,EAHJlB,EAGIkB,OAEtB/M,EAAKtB,MAAMU,SACR4B,KAAKhB,EAAKtB,MAAMuC,KAChBqH,OAAO,CACNuE,MACAC,UACAC,WACCd,KAAK,WACNjM,EAAKmD,SAAS,CAAEwI,SAAS,MAE1BO,MAAM,SAAAR,GACL1L,EAAKmD,SAAS,CAAEuI,aAjCH1L,EAqCnBsF,SAAW,SAAAJ,GACTlF,EAAKmD,SAAL9D,OAAAkG,EAAA,EAAAlG,CAAA,GAAiB6F,EAAMM,OAAOC,KAAOP,EAAMM,OAAOzC,SAnClD/C,EAAKsC,MAALjD,OAAA8F,EAAA,EAAA9F,CAAA,GAAkByF,IAHD9E,mFAMC,IAAAgD,EAAAvE,KAClBA,KAAKC,MAAMU,SAASiC,QAAQkI,GAAG,QAAS,SAAAC,GACtC,IAAMyD,EAAWzD,EAASC,MAAMzG,EAAKtE,MAAMuC,KAC3C+B,EAAKG,SAAS,CACZ0J,IAAKI,EAAQ,IACbH,QAASG,EAAQ,SAAe,GAChCF,OAAQE,EAAQ,QAAc,GAC9BzK,YAAY,uCA2BT,IAAA0K,EAAAzO,KAAA0N,EAC0C1N,KAAK6D,MAA9CuK,EADDV,EACCU,IAAKC,EADNX,EACMW,QAASC,EADfZ,EACeY,OAAQrB,EADvBS,EACuBT,MAAOC,EAD9BQ,EAC8BR,QAErC,OACErN,EAAAC,EAAAC,cAACmH,EAAApH,EAAD,CAAM0G,SAAUxG,KAAKwG,UACnB3G,EAAAC,EAAAC,cAAC8E,EAAD,CAAQ3E,QAASF,KAAK6D,MAAME,aAC5BlE,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,OACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,YACAhO,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACEJ,KAAK,MACL1C,MAAO8J,EACPvH,SAAU7G,KAAK6G,SACf6H,GAAG,WACHC,KAAK,OAET9O,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,WACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,yBACAhO,EAAAC,EAAAC,cAAC6O,GAAA,EAAD,CACE3G,GAAG,UACH4G,UAAQ,EACR7H,KAAK,UACL8H,SAAUT,EACVxH,SAAU,SAACiI,GACTL,EAAK/J,SAAS,CAAC2J,QAASS,KAE1BC,QAAS,CAAC,OAAQ,QAAS,QAAS,MAAO,OAAQ,YAGvDlP,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,UACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,wBACAhO,EAAAC,EAAAC,cAAC6O,GAAA,EAAD,CACE3G,GAAG,SACH4G,UAAQ,EACR7H,KAAK,SACL8H,SAAUR,EACVzH,SAAU,SAACiI,GACTL,EAAK/J,SAAS,CAAC4J,OAAQQ,KAEzBC,QAAS,CAAC,OAAQ,QAAS,QAAS,MAAO,OAAQ,YAIvDlP,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAQQ,QAAQ,UAAU+G,KAAK,UAA/B,QAIC4F,GAASpN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,SAAS8M,EAAMa,SACrCZ,GAAWrN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,WAAb,4BAxFMI,aA8FXE,KAAa8N,ICrGtBS,oLAEF,OACEnP,EAAAC,EAAAC,cAAC4E,EAAgBjE,SAAjB,KACG,SAAA8E,GAAA,IAAE1B,EAAF0B,EAAE1B,SAAF0B,EAAYxB,WAAZ,OACGnE,EAAAC,EAAAC,cAACkM,EAAAnM,EAAD,CAAMoM,iBAAiB,UAAUjE,GAAG,4BAClCpI,EAAAC,EAAAC,cAACoM,EAAArM,EAAD,CAAKsM,SAAS,UAAUrC,MAAM,WAC5BlK,EAAAC,EAAAC,cAACoL,EAAArL,EAAD,CAAWK,UAAU,sBACnBN,EAAAC,EAAAC,cAACqL,GAAAtL,EAAD,CAAKK,UAAU,6BACbN,EAAAC,EAAAC,cAACsL,GAAAvL,EAAD,CAAKwL,GAAG,QACNzL,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAACkP,GAAD,CAAazM,IAAKsB,EAAStB,UAKnC3C,EAAAC,EAAAC,cAACoM,EAAArM,EAAD,CAAKsM,SAAS,WAAWrC,MAAM,YAC7BlK,EAAAC,EAAAC,cAACmP,GAAD,QAED,YAnBO3O,aA+BPyE,KADG,SAAAlB,GAAQ,QAAMA,GACjBkB,CAA6BgK,yBCT7BG,eA7Bb,SAAAA,EAAYlP,GAAO,IAAAsB,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAZ,KAAAmP,IACjB5N,EAAAX,OAAA8C,EAAA,EAAA9C,CAAAZ,KAAAY,OAAA+C,EAAA,EAAA/C,CAAAuO,GAAAvL,KAAA5D,KAAMC,KAED4D,MAAQ,CAAEuL,WAAY,MAHV7N,mFAOjB,IAAI+E,EAAS+I,KAAYC,MAAMtP,KAAKC,MAAMqF,QAAQhG,SAASgH,QAAQiJ,EACnEvP,KAAK0E,SAAS,CAAC0K,WAAYI,UAAUlJ,uDAGbmJ,GACxBzP,KAAK0E,SAAS,CAAC0K,WAAYI,UAAUH,KAAYC,MAAMtP,KAAKC,MAAMqF,QAAQhG,SAASgH,QAAQiJ,sCAI3F,IAAMG,EAAO1P,KAAK6D,MAAMuL,WACxB,OACEvP,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,oBACC2P,GACC7P,EAAAC,EAAAC,cAAA,8BAAsB2P,EAAtB,cAtBWnP,aCWf8F,WAAgB,CACpByF,SAAU,GACVpK,MAAO,GACPoL,YAAa,GACbC,YAAa,GACbE,MAAO,KACPlJ,YAAY,IAGR4L,eACJ,SAAAA,EAAY1P,GAAO,IAAAsB,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAZ,KAAA2P,IACjBpO,EAAAX,OAAA8C,EAAA,EAAA9C,CAAAZ,KAAAY,OAAA+C,EAAA,EAAA/C,CAAA+O,GAAA/L,KAAA5D,KAAMC,KAKRuG,SAAW,SAAAC,GACTA,EAAMG,iBACNrF,EAAKmD,SAAS,CAAEX,YAAY,IAFV,IAAAqJ,EAGuB7L,EAAKsC,MAAtCiI,EAHUsB,EAGVtB,SAAUpK,EAHA0L,EAGA1L,MAAOoL,EAHPM,EAGON,YAEnB8C,EAAa,CACjBxB,IAAK,GACLC,QAAS,GACTC,OAAQ,IAGV/M,EAAKtB,MAAMU,SACRc,iCAAiCC,EAAOoL,GACxCU,KAAK,SAAA1J,GACJ,OAAOA,EAASvB,KAAKyL,cAAc,CACjCnI,YAAaiG,IAEd0B,KAAK,WACJ,OAAO1J,MAGV0J,KAAK,SAAA1J,GACJ,OAAOvC,EAAKtB,MAAMU,SACf4B,KAAKuB,EAASvB,KAAKC,KACnBqN,IAFIjP,OAAA8F,EAAA,EAAA9F,CAAA,GAGAgP,EAHA,CAIH9D,WACApK,aAGL8L,KAAK,WACJ,OAAOjM,EAAKtB,MAAMU,SAASqB,cAE5BwL,KAAK,WACJ,OAAOjM,EAAKtB,MAAMU,SAASmB,6BAA6BJ,EAAOoL,KAEhEU,KAAK,WACJjM,EAAKmD,SAAL9D,OAAA8F,EAAA,EAAA9F,CAAA,GAAmByF,KACnB9E,EAAKtB,MAAMqF,QAAQC,KAAKW,KAEzBuH,MAAM,SAAAR,GACL1L,EAAKmD,SAAS,CAAEuI,QAAOlJ,YAAY,OA/CtBxC,EAmDnBsF,SAAW,SAAAJ,GACTlF,EAAKmD,SAAL9D,OAAAkG,EAAA,EAAAlG,CAAA,GAAiB6F,EAAMM,OAAOC,KAAOP,EAAMM,OAAOzC,SAjDlD/C,EAAKsC,MAALjD,OAAA8F,EAAA,EAAA9F,CAAA,GAAkByF,IAHD9E,wEAuDV,IAAAmM,EAOH1N,KAAK6D,MALPiI,EAFK4B,EAEL5B,SACApK,EAHKgM,EAGLhM,MACAoL,EAJKY,EAILZ,YACAC,EALKW,EAKLX,YACAE,EANKS,EAMLT,MAGIhG,EACJ6F,IAAgBC,GACA,KAAhBD,GACU,KAAVpL,GACa,KAAboK,EAEF,OACEjM,EAAAC,EAAAC,cAACoL,EAAArL,EAAD,KACED,EAAAC,EAAAC,cAAC8E,EAAD,CAAQ3E,QAASF,KAAK6D,MAAME,aAC5BlE,EAAAC,EAAAC,cAACqL,GAAAtL,EAAD,CAAKK,UAAU,6BACbN,EAAAC,EAAAC,cAACsL,GAAAvL,EAAD,CAAKwL,GAAG,QACNzL,EAAAC,EAAAC,cAACmH,EAAApH,EAAD,CAAM0G,SAAUxG,KAAKwG,UACnB3G,EAAAC,EAAAC,cAAA,qBAEAF,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,YACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,kBACAhO,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACEJ,KAAK,WACL1C,MAAOwH,EACPjF,SAAU7G,KAAK6G,SACfQ,KAAK,OACLC,YAAY,cAGhBzH,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,SACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,sBACAhO,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACEJ,KAAK,QACL1C,MAAO5C,EACPmF,SAAU7G,KAAK6G,SACfQ,KAAK,OACLC,YAAY,kBACdzH,EAAAC,EAAAC,cAACmH,EAAApH,EAAK4I,KAAN,CAAWvI,UAAU,cAArB,mDAKFN,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,YACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,iBACAhO,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACEJ,KAAK,cACL1C,MAAOwI,EACPjG,SAAU7G,KAAK6G,SACfQ,KAAK,WACLC,YAAY,cAGhBzH,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,mBACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,yBACAhO,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACEJ,KAAK,cACL1C,MAAOyI,EACPlG,SAAU7G,KAAK6G,SACfQ,KAAK,WACLC,YAAY,sBAGhBzH,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAQQ,QAAQ,UAAU+G,KAAK,SAASG,SAAUP,GAAlD,WAICgG,GAASpN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,SAAS8M,EAAMa,oBA9H3BvN,aA4IVuP,GALApK,YACbC,IACAlF,EAFaiF,CAGbiK,ICjJItJ,WAAgB,CACpB3E,MAAO,GACPC,SAAU,GACVsL,MAAO,KACPlJ,YAAY,IAGRgM,eACJ,SAAAA,EAAY9P,GAAO,IAAAsB,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAZ,KAAA+P,IACjBxO,EAAAX,OAAA8C,EAAA,EAAA9C,CAAAZ,KAAAY,OAAA+C,EAAA,EAAA/C,CAAAmP,GAAAnM,KAAA5D,KAAMC,KAKRuG,SAAW,SAAAC,GACTlF,EAAKmD,SAAS,CAAEX,YAAY,IADV,IAAAqJ,EAEU7L,EAAKsC,MAAzBnC,EAFU0L,EAEV1L,MAAOC,EAFGyL,EAEHzL,SAEfJ,EAAKtB,MAAMU,SACRmB,6BAA6BJ,EAAOC,GACpC6L,KAAK,WACJjM,EAAKmD,SAAL9D,OAAA8F,EAAA,EAAA9F,CAAA,GAAmByF,KACnB9E,EAAKtB,MAAMqF,QAAQC,KAAKW,KAEzBuH,MAAM,SAAAR,GACL1L,EAAKmD,SAAS,CAAEuI,QAAOlJ,YAAY,MAGvC0C,EAAMG,kBApBWrF,EAuBnBsF,SAAW,SAAAJ,GACTlF,EAAKmD,SAAL9D,OAAAkG,EAAA,EAAAlG,CAAA,GAAiB6F,EAAMM,OAAOC,KAAOP,EAAMM,OAAOzC,SArBlD/C,EAAKsC,MAALjD,OAAA8F,EAAA,EAAA9F,CAAA,GAAkByF,IAHD9E,wEA2BV,IAAAmM,EAC4B1N,KAAK6D,MAAhCnC,EADDgM,EACChM,MAAOC,EADR+L,EACQ/L,SAAUsL,EADlBS,EACkBT,MAEnBhG,EAAyB,KAAbtF,GAA6B,KAAVD,EAErC,OACE7B,EAAAC,EAAAC,cAACoL,EAAArL,EAAD,KACED,EAAAC,EAAAC,cAAC8E,EAAD,CAAQ3E,QAASF,KAAK6D,MAAME,aAC5BlE,EAAAC,EAAAC,cAACqL,GAAAtL,EAAD,CAAKK,UAAU,6BACbN,EAAAC,EAAAC,cAACsL,GAAAvL,EAAD,CAAKwL,GAAG,QACNzL,EAAAC,EAAAC,cAACmH,EAAApH,EAAD,CAAM0G,SAAUxG,KAAKwG,UACnB3G,EAAAC,EAAAC,cAAA,qBAEAF,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,SACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,sBACAhO,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACEJ,KAAK,QACL1C,MAAO5C,EACPmF,SAAU7G,KAAK6G,SACfQ,KAAK,OACLC,YAAY,mBAGhBzH,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,YACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,iBACAhO,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACAJ,KAAK,WACL1C,MAAO3C,EACPkF,SAAU7G,KAAK6G,SACfQ,KAAK,WACLC,YAAY,aACZzH,EAAAC,EAAAC,cAAC+F,EAAA,cAAD,CAAeC,GnB1EP,WmB2ENlG,EAAAC,EAAAC,cAACiG,EAAAlG,EAAImG,KAAL,CAAU9F,UAAU,WAApB,2BAKJN,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAQQ,QAAQ,UAAU+G,KAAK,SAASG,SAAUP,GAAlD,WAICgG,GAASpN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,SAAS8M,EAAMa,oBArE3BvN,aAmFVyP,GALAtK,YACbC,IACAlF,EAFaiF,CAGbqK,ICnFaE,4LAZX,OACEpQ,EAAAC,EAAAC,cAAA,OAAKI,UAAU,sBACbN,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAA,4DACAF,EAAAC,EAAAC,cAAC+F,EAAA,cAAD,CAAeC,GAAIG,EAAa/F,UAAU,iBACvCN,EAAAC,EAAAC,cAACiG,EAAAlG,EAAImG,KAAL,yBAPY1F,cCEjB8F,GAAgB,CACpB3E,MAAO,GACPuL,MAAO,KACPC,SAAS,GAGLgD,eACJ,SAAAA,EAAYjQ,GAAO,IAAAsB,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAZ,KAAAkQ,IACjB3O,EAAAX,OAAA8C,EAAA,EAAA9C,CAAAZ,KAAAY,OAAA+C,EAAA,EAAA/C,CAAAsP,GAAAtM,KAAA5D,KAAMC,KAKRuG,SAAW,SAAAC,GACTlF,EAAKmD,SAAS,CAAEuI,MAAO,KAAMC,SAAS,IADpB,IAEVxL,EAAUH,EAAKsC,MAAfnC,MAERH,EAAKtB,MAAMU,SACRuB,gBAAgBR,GAChB8L,KAAK,WACJjM,EAAKmD,SAAL9D,OAAA8F,EAAA,EAAA9F,CAAA,GAAmByF,GAAnB,CAAkC6G,SAAS,OAE5CO,MAAM,SAAAR,GACL1L,EAAKmD,SAAS,CAAEuI,YAGpBxG,EAAMG,kBAnBWrF,EAsBnBsF,SAAW,SAAAJ,GACTlF,EAAKmD,SAAL9D,OAAAkG,EAAA,EAAAlG,CAAA,GAAiB6F,EAAMM,OAAOC,KAAOP,EAAMM,OAAOzC,SApBlD/C,EAAKsC,MAALjD,OAAA8F,EAAA,EAAA9F,CAAA,GAAkByF,IAHD9E,wEA0BV,IAAA6L,EAC2BpN,KAAK6D,MAA/BnC,EADD0L,EACC1L,MAAOuL,EADRG,EACQH,MAAOC,EADfE,EACeF,QAChBjG,EAAsB,KAAVvF,EAElB,OACE7B,EAAAC,EAAAC,cAACoL,EAAArL,EAAD,KACED,EAAAC,EAAAC,cAACqL,GAAAtL,EAAD,CAAKK,UAAU,6BACbN,EAAAC,EAAAC,cAACsL,GAAAvL,EAAD,CAAKwL,GAAG,QACNzL,EAAAC,EAAAC,cAACmH,EAAApH,EAAD,CAAM0G,SAAUxG,KAAKwG,UACnB3G,EAAAC,EAAAC,cAAA,4BAEAF,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,SACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,sBACAhO,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACEJ,KAAK,QACL1C,MAAO5C,EACPmF,SAAU7G,KAAK6G,SACfQ,KAAK,OACLC,YAAY,mBAGhBzH,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAQQ,QAAQ,UAAU+G,KAAK,SAASG,SAAUP,GAAlD,kBAICgG,GAASpN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,SAAS8M,EAAMa,SACrCZ,GAAWrN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,WAAb,mEArDGI,aA8DdE,KAAayP,6FCsCbC,oLAxFX,OACEtQ,EAAAC,EAAAC,cAACqQ,GAAA,SAAD,CAAUjQ,UAAU,mBAClBN,EAAAC,EAAAC,cAACsQ,GAAA,KAAD,CACEC,MAAM,QACN3I,GAAG,QACH4I,gBAAiBC,MAEf3Q,EAAAC,EAAAC,cAACqQ,GAAA,QAAD,yBACAvQ,EAAAC,EAAAC,cAACqQ,GAAA,QAAD,4BACAvQ,EAAAC,EAAAC,cAAC+F,EAAA,cAAD,CAAeC,GtBlCL,WsBmCRlG,EAAAC,EAAAC,cAACsQ,GAAA,aAAD,CAAcI,GAAI,GAAlB,aAEF5Q,EAAAC,EAAAC,cAACsQ,GAAA,oBAAD,OAEJxQ,EAAAC,EAAAC,cAACqQ,GAAA,QAAD,CAASjQ,UAAU,iBAAiBuQ,UAAU,UAA9C,YACA7Q,EAAAC,EAAAC,cAACqQ,GAAA,KAAD,CAAMO,SAAS,OAAOC,eAAe,UACjC/Q,EAAAC,EAAAC,cAACsQ,GAAA,QAAD,CAASQ,KAAK,eAAK5G,YAAY,6BAA/B,QAGApK,EAAAC,EAAAC,cAACsQ,GAAA,QAAD,CAASQ,KAAK,eAAK5G,YAAY,wBAA/B,YAGApK,EAAAC,EAAAC,cAACsQ,GAAA,QAAD,CAASQ,KAAK,eAAK5G,YAAY,wBAA/B,YAIJpK,EAAAC,EAAAC,cAACqQ,GAAA,QAAD,CAASjQ,UAAU,iBAAiBuQ,UAAU,UAA9C,0BACA7Q,EAAAC,EAAAC,cAACqQ,GAAA,KAAD,CAAMU,WAAW,WAAWF,eAAe,gBAEvC/Q,EAAAC,EAAAC,cAACsQ,GAAA,UAAD,CACIlQ,UAAU,6BACV4Q,aAAcC,KACdC,WAAW,kBACXC,YAAY,aAJhB,uFAQArR,EAAAC,EAAAC,cAACsQ,GAAA,UAAD,CACIlQ,UAAU,6BACV4Q,aAAcC,KACdC,WAAW,kBACXC,YAAY,aAJhB,uFAQArR,EAAAC,EAAAC,cAACsQ,GAAA,UAAD,CACIlQ,UAAU,6BACV4Q,aAAcC,KACdC,WAAW,kBACXC,YAAY,aAJhB,wFASJrR,EAAAC,EAAAC,cAACqQ,GAAA,QAAD,CAASjQ,UAAU,iBAAiBuQ,UAAU,UAA9C,WACA7Q,EAAAC,EAAAC,cAACqQ,GAAA,KAAD,CAAMQ,eAAe,UACjB/Q,EAAAC,EAAAC,cAACsQ,GAAA,YAAD,CACIlQ,UAAU,YACVgR,SAAS,aACTpH,MAAM,YACNqH,OAAQJ,MAERnR,EAAAC,EAAAC,cAACqQ,GAAA,KAAD,KACIvQ,EAAAC,EAAAC,cAACqQ,GAAA,QAAD,CAASiB,KAAK,8BAAd,YAIRxR,EAAAC,EAAAC,cAACsQ,GAAA,YAAD,CACIlQ,UAAU,YACVgR,SAAS,oBACTpH,MAAM,YACNqH,OAAQE,MAERzR,EAAAC,EAAAC,cAACqQ,GAAA,KAAD,KACIvQ,EAAAC,EAAAC,cAACqQ,GAAA,QAAD,CAASiB,KAAK,6BAAd,aAIZxR,EAAAC,EAAAC,cAACqQ,GAAA,KAAD,CAAMmB,GAAG,SAAST,WAAW,SAAS3R,EAAG,GACrCU,EAAAC,EAAAC,cAACqQ,GAAA,QAAD,CAASoB,SAAS,cAAcH,KAAK,MACrCxR,EAAAC,EAAAC,cAACqQ,GAAA,QAAD,CAASoB,SAAS,UAAUH,KAAK,MACjCxR,EAAAC,EAAAC,cAACqQ,GAAA,MAAD,CAAOE,MAAM,OAAOmB,GAAG,QAAvB,oCAnFUlR,uBCRhB8F,WAAgB,CACpB0D,MAAO,GACPE,YAAa,GACbgD,MAAO,KACPC,SAAS,EACTwE,UAAU,EACVC,WAAW,EACXC,UAAW,KACXC,WAAY,GACZ9N,YAAY,EACZ+N,cAAeC,KAAKC,MAZR,UAsBRC,eACJ,SAAAA,EAAYhS,GAAO,IAAAsB,EAAA,OAAAX,OAAAY,EAAA,EAAAZ,CAAAZ,KAAAiS,IACjB1Q,EAAAX,OAAA8C,EAAA,EAAA9C,CAAAZ,KAAAY,OAAA+C,EAAA,EAAA/C,CAAAqR,GAAArO,KAAA5D,KAAMC,KA0DRuG,SAAW,SAAAC,GACTA,EAAMG,iBACNrF,EAAKmD,SAAS,CAACX,YAAY,IAFT,IAAAqJ,EAGuB7L,EAAKsC,MAAvCkG,EAHWqD,EAGXrD,MAAOE,EAHImD,EAGJnD,YAAa4H,EAHTzE,EAGSyE,WACrB/F,EAAWvK,EAAKtB,MAAMU,SAASiB,KAAKS,YAAYwD,YAChDoC,GAvEA,CAAC,MAAM,KAAK,KAAK,KAAK,MAAMiK,QAAQ,SAAU,SAAAC,GAAC,OAEpDA,EAAIC,OAAOC,gBAAgB,IAAIC,WAAW,IAAI,GAAK,IAAMH,EAAI,GAAGI,SAAS,MAuE1EhR,EAAKtB,MAAMU,SAASoC,KAAKkF,GAAIuK,IAAIjR,EAAKsC,MAAM+N,WAC3CpE,KAAK,SAAAzC,GACJ,OAAOxJ,EAAKtB,MAAMU,SAASoC,KAAKkF,GAAIwK,mBAErCjF,KAAK,SAAAzB,GACJ,OAAOxK,EAAKtB,MAAMU,SAASkC,KAAKoF,GAAI4H,IAAI,CACtC/D,WACA/B,QACAE,cACA8B,YACA8F,aACA5J,SAGHuF,KAAK,WACJjM,EAAKmD,SAAL9D,OAAA8F,EAAA,EAAA9F,CAAA,GAAmByF,GAAnB,CAAkC6G,SAAS,EAAMnJ,YAAY,OAE9D0J,MAAM,SAAAR,GACL1L,EAAKmD,SAAS,CAAEuI,QAAOlJ,YAAY,OApFpBxC,EAwFnBsF,SAAW,SAAAJ,GACTlF,EAAKmD,SAAL9D,OAAAkG,EAAA,EAAAlG,CAAA,GAAiB6F,EAAMM,OAAOC,KAAOP,EAAMM,OAAOzC,SAtFlD/C,EAAKsC,MAALjD,OAAA8F,EAAA,EAAA9F,CAAA,GACKyF,GADL,CAEEqM,SAAU,OAGZnR,EAAKoR,UAAYjT,IAAM8J,YAEvBjI,EAAKqR,eAAiBrR,EAAKqR,eAAe3O,KAApBrD,OAAAsD,EAAA,EAAAtD,CAAAW,IAVLA,gFAaF,IAAAgD,EAAAvE,KACf6S,UAAUC,aAAaC,aAAa,CAAEC,OAAO,IAC5CxF,KAAK,SAAAyF,GACJ,IAAMC,EAAgB,IAAIC,cAAcF,GAClCG,EAAc,IAAI/T,OAAOgU,wBAC/BH,EAAcI,QACdF,EAAYE,QAEZF,EAAYG,SAAW,SAAC9M,GACtB,IAAM+M,EAAe/M,EAAMgN,QAAQ,GAAG,GAAG5B,WACzCtN,EAAKG,SAAS,CAACmN,WAAY2B,EAAc9B,UAAU,KAGrD0B,EAAYM,UAAY,SAACjN,GACvBlC,EAAKG,SAAS,CAACmN,WAAY,uBAAwBH,UAAU,KAG/DnN,EAAKoO,UAAUhJ,QAAQgK,KAAO5B,KAAKC,MAAQ,IAC3CzN,EAAKoO,UAAUhJ,QAAQiK,SAASN,QAChC/O,EAAKG,SAAS,CAACiN,WAAW,EAAMzE,QAAS,OAEzC,IAAM2G,EAAc,GAEpBX,EAAcY,iBAAiB,gBAAiB,SAAArN,GAC9CoN,EAAYtO,KAAKkB,EAAMsN,QAGzBb,EAAcY,iBAAiB,OAAQ,WACrC,IAAMlC,EAAY,IAAIoC,KAAKH,GACrBnB,EAAWuB,IAAIC,gBAAgBtC,GACrCrN,EAAKG,SAAS,CAACgO,WAAUd,YAAWD,WAAW,IAE/C,IAAIwC,EAAS,IAAIC,WACjBD,EAAOE,cAAczC,GACrBuC,EAAOG,UAAY,WACAH,EAAOI,UAI5BC,WAAW,WACTtB,EAAcuB,OACdrB,EAAYqB,QA7EN,wCAoHH,IAAA/G,EACwC1N,KAAK6D,MAA5CkG,EADD2D,EACC3D,MAAOE,EADRyD,EACQzD,YAAagD,EADrBS,EACqBT,MAAOC,EAD5BQ,EAC4BR,QAC7BjG,EAAsB,KAAV8C,GAAgC,KAAhBE,EAUlC,OACEpK,EAAAC,EAAAC,cAACoL,EAAArL,EAAD,CAAWK,UAAU,sBACnBN,EAAAC,EAAAC,cAAC8E,EAAD,CAAQ3E,QAASF,KAAK6D,MAAME,aAC5BlE,EAAAC,EAAAC,cAACqL,GAAAtL,EAAD,CAAKK,UAAU,6BACbN,EAAAC,EAAAC,cAACsL,GAAAvL,EAAD,CAAKwL,GAAG,QACNzL,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,2DAAkDF,EAAAC,EAAAC,cAAA,WAAlD,uEACoEF,EAAAC,EAAAC,cAAA,WADpE,mCAGAF,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAQqG,QAASnG,KAAK4S,gBAAtB,mBALF,IAKkE5S,KAAK6D,MAAM8N,WAAa9R,EAAAC,EAAAC,cAAA,OAAKkI,GAAG,OAAO,MAAYpI,EAAAC,EAAAC,cAAA,WACnHF,EAAAC,EAAAC,cAAC2U,GAAA,EAAD,CAAWf,KAAM3T,KAAK6D,MAAMiO,cAAe6C,WAAW,EAAOjS,IAAK1C,KAAK2S,UAAWiC,SAlBhE,SAAApP,GAAiB,IAAdqP,EAAcrP,EAAdqP,QAC3B,OAAgB,IAAZA,EACKhV,EAAAC,EAAAC,cAAA,wBAAgB8U,EAAhB,WAEAhV,EAAAC,EAAAC,cAAA,wBAAgB8U,EAAhB,eAgBF7U,KAAK6D,MAAM6N,UAEV7R,EAAAC,EAAAC,cAACmH,EAAApH,EAAD,CAAM0G,SAAUxG,KAAKwG,UACnB3G,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,SAAOmK,IAAKlK,KAAK6D,MAAM6O,SAAUtI,UAAQ,IACzCvK,EAAAC,EAAAC,cAAA,SAAIC,KAAK6D,MAAMgO,YACfhS,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,SACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,cACAhO,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACEJ,KAAK,QACL1C,MAAOyF,EACPlD,SAAU7G,KAAK6G,SACfQ,KAAK,UAGTxH,EAAAC,EAAAC,cAACmH,EAAApH,EAAK6N,MAAN,CAAYC,UAAU,eACpB/N,EAAAC,EAAAC,cAACmH,EAAApH,EAAK+N,MAAN,oBACAhO,EAAAC,EAAAC,cAACmH,EAAApH,EAAKsH,QAAN,CACEJ,KAAK,cACL1C,MAAO2F,EACPpD,SAAU7G,KAAK6G,SACf6H,GAAG,WACHC,KAAK,OAGT9O,EAAAC,EAAAC,cAACwH,EAAAzH,EAAD,CAAQQ,QAAQ,UAAU+G,KAAK,SAASG,SAAUP,GAAlD,WAMHgG,GAASpN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,SAAS8M,EAAMa,SACrCZ,GAAWrN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,WAAb,4BAtJLI,aA+JJyE,KADG,SAAAlB,GAAQ,QAAMA,GACjBkB,CAA6BvE,EAAawR,KCpJ1C1O,sLArBX,OACE1D,EAAAC,EAAAC,cAAC+U,EAAA,cAAD,KACEjV,EAAAC,EAAAC,cAACgV,EAAD,CAAYrS,IAAK1C,KAAKgV,MAEtBnV,EAAAC,EAAAC,cAACkV,EAAA,EAAD,KACEpV,EAAAC,EAAAC,cAACkV,EAAA,EAAD,CAAOC,OAAK,EAACC,KxBhCA,IwBgCsBC,UAAWjF,KAC9CtQ,EAAAC,EAAAC,cAACkV,EAAA,EAAD,CAAOE,KAAMjP,EAAakP,UAAWpJ,KACrCnM,EAAAC,EAAAC,cAACkV,EAAA,EAAD,CAAOE,KxB3BK,oBwB2BgBC,UAAW9I,KACvCzM,EAAAC,EAAAC,cAACkV,EAAA,EAAD,CAAOE,KxB9BM,WwB8BgBC,UAAWpG,KACxCnP,EAAAC,EAAAC,cAACkV,EAAA,EAAD,CAAOE,KAAMjP,EAAekP,UAAWjG,KACvCtP,EAAAC,EAAAC,cAACkV,EAAA,EAAD,CAAOE,KxBnCK,UwBmCgBC,UAAWtF,KACvCjQ,EAAAC,EAAAC,cAACkV,EAAA,EAAD,CAAOE,KxBnCK,UwBmCgBC,UAAWpF,KACvCnQ,EAAAC,EAAAC,cAACkV,EAAA,EAAD,CAAOE,KxB/BO,UwB+BgBC,UAAWlF,KACzCrQ,EAAAC,EAAAC,cAACkV,EAAA,EAAD,CAAOE,KxB/BG,QwB+BgBC,UAAWnD,KACrCpS,EAAAC,EAAAC,cAACkV,EAAA,EAAD,CAAOG,UAAWnF,cAhBV1P,cCjBlB8U,IAASC,OACPzV,EAAAC,EAAAC,cAACwV,EAAgB3Q,SAAjB,CAA0BN,MAAO,IAAIhD,GACnCzB,EAAAC,EAAAC,cAACyV,GAAD,OAEFC,SAASC,eAAe,ShCqHpB,kBAAmB7C,WACrBA,UAAU8C,cAAcC,MAAMpI,KAAK,SAAAqI,GACjCA,EAAaC,mCiCnInB9W,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.1c6454e0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/rudy.75865109.jpg\";","module.exports = __webpack_public_path__ + \"static/media/landingBackground.c504e19b.jpg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\n\r\nconst AuthUserContext = React.createContext(null);\r\n\r\nexport default AuthUserContext;","import React, { Component } from 'react';\r\nimport Spinner from 'react-bootstrap/Spinner'\r\n\r\nimport './Loader.css'\r\n\r\nclass Loader extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.props.visible &&\r\n          <div className=\"loader-container\">\r\n            <Spinner animation=\"border\" variant=\"primary\" />\r\n          </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loader;\r\n\r\n\r\n","import React from 'react';\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n  <FirebaseContext.Consumer>\r\n    {firebase => <Component {...props} firebase={firebase} />}\r\n  </FirebaseContext.Consumer>\r\n);\r\n\r\nexport default FirebaseContext;","import app from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport 'firebase/storage';\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n};\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(config);\r\n\r\n    this.auth = app.auth();\r\n    this.db = app.database();\r\n    this.storage = app.storage();\r\n    this.EmailAuthProvider = app.auth.EmailAuthProvider;\r\n  }\r\n\r\n  // Auth\r\n  doCreateUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n  doSignInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n  doSignOut = () => this.auth.signOut();\r\n\r\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n  doPasswordUpdate = password =>\r\n    this.auth.currentUser.updatePassword(password);\r\n\r\n  // DB\r\n  user = uid => this.db.ref(`users/${uid}`);\r\n  users = () => this.db.ref('users');\r\n\r\n  post = uid => this.db.ref(`posts/${uid}`);\r\n  posts = () => this.db.ref('posts');\r\n\r\n  song = uid => this.storage.ref().child(`audio/${uid}`);\r\n  songs = () => this.storage.ref().child('audio');\r\n}\r\n\r\nexport default Firebase;","import FirebaseContext, { withFirebase } from './context';\r\nimport Firebase from './firebase';\r\n\r\nexport default Firebase;\r\n\r\nexport { FirebaseContext, withFirebase };","import React from 'react';\r\nimport Loader from '../Loader'\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst withAuthentication = Component => {\r\n  class WithAuthentication extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        authUser: null,\r\n        showLoader: true\r\n      };\r\n\r\n      this.updateAuth = this.updateAuth.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n        authUser => {\r\n          authUser\r\n            ? this.setState({ authUser })\r\n            : this.setState({ authUser: null });\r\n          this.setState({ showLoader: false });\r\n        },\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    updateAuth(authUser) {\r\n      authUser\r\n        ? this.setState({ authUser })\r\n        : this.setState({ authUser: null });\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Provider value={{authUser: this.state.authUser, updateAuth: this.updateAuth}}>\r\n          <Loader visible={this.state.showLoader} />\r\n          <Component {...this.props} />\r\n        </AuthUserContext.Provider>\r\n       );\r\n    }\r\n  }\r\n\r\n  return withFirebase(WithAuthentication);\r\n};\r\n\r\nexport default withAuthentication;","export const LANDING = '/'\r\nexport const HOME = '/home';\r\nexport const SIGNUP = '/signup';\r\nexport const SIGNIN = '/signin';\r\nexport const SIGNOUT = '/signout';\r\nexport const PROFILE = '/profile';\r\nexport const SEARCH = '/search'\r\nexport const BATTLE = '/battle/:battleid';\r\nexport const FORGOTPW = '/forgot';\r\nexport const POST = '/post';","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst withAuthorization = condition => Component => {\r\n  class WithAuthorization extends React.Component {\r\n    static contextType = AuthUserContext;\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n        authUser => {\r\n          this.context.updateAuth(authUser);\r\n          if (!condition(authUser)) {\r\n            this.props.history.push(ROUTES.SIGNIN);\r\n          }\r\n        },\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Consumer>\r\n          {({authUser, updateAuth}) => {\r\n              //console.log(updateAuth)\r\n              return condition(authUser) ? <Component {...this.props} /> : null;\r\n            }\r\n          }\r\n        </AuthUserContext.Consumer>\r\n      );\r\n    }\r\n  }\r\n\r\n  return compose(\r\n    withRouter,\r\n    withFirebase,\r\n  )(WithAuthorization);\r\n};\r\n\r\nexport default withAuthorization;","import React, { Component } from 'react';\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { AuthUserContext } from '../Session';\r\nimport { withFirebase } from '../Firebase';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nclass AuthButtons extends Component {\r\n  render() {\r\n    return (\r\n      <AuthUserContext.Consumer>\r\n        {({authUser, updateAuth}) =>\r\n          <div className=\"flex\">\r\n            <div className=\"v-align\">Hi, {authUser.displayName}</div>\r\n            <LinkContainer to={ROUTES.PROFILE}>\r\n               <Nav.Link>Profile</Nav.Link>\r\n            </LinkContainer>\r\n            <LinkContainer to={ROUTES.HOME}>\r\n              <Nav.Link onClick={this.props.firebase.doSignOut}>Sign out</Nav.Link>\r\n            </LinkContainer>\r\n          </div>\r\n        }\r\n      </AuthUserContext.Consumer>\r\n          \r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(AuthButtons);","import React, { Component } from 'react';\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nclass NonAuthButtons extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"flex\">\r\n        <LinkContainer to={ROUTES.SIGNUP}>\r\n          <Nav.Link>Sign up</Nav.Link>\r\n        </LinkContainer>\r\n        <LinkContainer to={ROUTES.SIGNIN}>\r\n          <Nav.Link>Sign in</Nav.Link>\r\n        </LinkContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NonAuthButtons;\r\n","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst INITIAL_STATE = {\r\n  search: '',\r\n};\r\n\r\nclass SearchForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { search } = this.state;\r\n    this.setState({ ...INITIAL_STATE });\r\n    this.props.history.push(`${ROUTES.SEARCH}?q=${encodeURI(search)}`);\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { search } = this.state;\r\n    const isInvalid = search === '';\r\n\r\n    return (\r\n      <Form inline onSubmit={this.onSubmit}>\r\n        <Form.Control \r\n          name=\"search\"\r\n          value={search}\r\n          onChange={this.onChange}\r\n          type=\"text\" \r\n          placeholder=\"Search\" \r\n          className=\"mr-sm-2\" />\r\n        <Button variant=\"outline-success\" type=\"submit\" disabled={isInvalid}>Search</Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(SearchForm);","import React, { Component } from 'react';\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { AuthUserContext } from '../Session';\r\nimport AuthButtons from './AuthButtons'\r\nimport NonAuthButtons from './NonAuthButtons'\r\nimport SearchForm from './SearchForm'\r\n\r\nimport './Navigation.css';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nclass Navigation extends Component {\r\n  render() {\r\n    return (\r\n      <AuthUserContext.Consumer>\r\n        {({authUser, updateAuth}) => \r\n          <Navbar bg=\"light\" expand=\"lg\" className=\"app-navbar\">\r\n            <LinkContainer to={ROUTES.LANDING}>\r\n              <Navbar.Brand>One V. One</Navbar.Brand>\r\n            </LinkContainer>\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\">\r\n              <Nav className=\"mr-auto\">\r\n                {authUser && <LinkContainer to={ROUTES.HOME}>\r\n                   <Nav.Link>Home</Nav.Link>\r\n                </LinkContainer>}\r\n                {false && <SearchForm />}\r\n              </Nav>\r\n              {authUser ? <AuthButtons /> : <NonAuthButtons />}\r\n            </Navbar.Collapse>\r\n          </Navbar>\r\n        }\r\n      </AuthUserContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;\r\n","import React, { Component } from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nclass BattleCard extends Component {\r\n  render() {\r\n    return (\r\n      <Card style={{ width: '18rem' }}>\r\n        <Card.Body>\r\n          <Card.Title>Rapper A Vs. Rapper B.</Card.Title>\r\n          <Card.Text>\r\n            Throwdown of the century\r\n          </Card.Text>\r\n          <LinkContainer to={\"/battle/\" + this.props.battleId}>\r\n            <Button variant=\"primary\">View</Button>\r\n          </LinkContainer>\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BattleCard;\r\n","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport InfiniteScroll from 'react-infinite-scroller'\r\nimport BattleCard from './BattleCard'\r\n\r\nfunction makeid(length) {\r\n  var text = \"\";\r\n  var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n  for (var i = 0; i < length; i++)\r\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\r\n  return text;\r\n}\r\n\r\nclass BattleScroller extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      battles: [\"first\"],\r\n      hasMoreItems: true,\r\n      nextHref: null\r\n    };\r\n  }\r\n\r\n  loadItems(page) {\r\n    const self = this;\r\n    var battles = this.state.battles;\r\n    for (var i = 0; i < 10; i++) {\r\n      battles.push(makeid(6))\r\n    }\r\n    setTimeout(function(){\r\n      if (battles.length < 100) {\r\n        self.setState({ battles });\r\n      } else {\r\n        self.setState({ battles, hasMoreItems: false});\r\n      }\r\n    }, 750);\r\n  }\r\n\r\n  render() {\r\n    const loader = <div key=\"loader\">Loading...</div>;\r\n    return (\r\n      <Container>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md=\"auto\">\r\n            <InfiniteScroll\r\n                pageStart={0}\r\n                loadMore={this.loadItems.bind(this)}\r\n                hasMore={this.state.hasMoreItems}\r\n                loader={loader}>\r\n                <div className=\"battles\">\r\n                    {this.state.battles.map((battle, i) => <BattleCard key={i} battleId={battle}/>)}\r\n                </div>\r\n            </InfiniteScroll>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BattleScroller;\r\n","import React, { Component } from 'react';\r\nimport {\r\n  Card,\r\n  ButtonToolbar,\r\n  ToggleButtonGroup,\r\n  ToggleButton\r\n} from 'react-bootstrap';\r\nimport { withFirebase } from '../../Firebase';\r\n\r\n// add rank and genre to cards\r\n\r\nclass PostCard extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n\r\n    this.audioplayer = React.createRef();\r\n\r\n    this.state = {\r\n      value: this.props.rating,\r\n      listens: this.props.listens || 0\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.audioplayer.current.onplaying = event => {\r\n      const listens = this.state.listens + 1;\r\n      this.setState({listens});\r\n      this.props.firebase.post(this.props.id).update({\r\n        listens\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChange(value, event) {\r\n    if (value.length > 1) {\r\n      value = value[1]\r\n    } else if (value.length > 0) {\r\n      value = value[0]\r\n    } else {\r\n      value = 0\r\n    }\r\n    this.setState({ value });\r\n    this.props.firebase.post(this.props.id).update({\r\n      rating: value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Card style={{ width: 'fit-content' }}>\r\n        <Card.Body>\r\n          <Card.Title>{this.props.title}</Card.Title>\r\n          <Card.Subtitle className=\"mb-2 text-muted\">{this.props.user}</Card.Subtitle>\r\n          <Card.Text>\r\n            {this.props.description}\r\n          </Card.Text>\r\n          <audio src={this.props.audioURL} controls ref={this.audioplayer}></audio><br/>\r\n          <ButtonToolbar>\r\n            <ToggleButtonGroup \r\n              value={this.state.value}\r\n              onChange={this.handleChange}\r\n              type=\"checkbox\" \r\n              name=\"options\">\r\n              <ToggleButton value={1}><span role=\"img\" aria-label=\"like\"></span></ToggleButton>\r\n              <ToggleButton value={2}><span role=\"img\" aria-label=\"dislike\"></span></ToggleButton>\r\n            </ToggleButtonGroup>\r\n\r\n            <span className=\"listens\" role=\"img\" aria-label=\"listens\">: {this.state.listens}</span>\r\n          </ButtonToolbar>\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(PostCard);\r\n","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport InfiniteScroll from 'react-infinite-scroller'\r\nimport PostCard from './PostCard'\r\nimport { withFirebase } from '../../Firebase';\r\n\r\nclass PostScroller extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      posts: [],\r\n      hasMoreItems: true,\r\n      nextHref: null\r\n    };\r\n  }\r\n\r\n  loadItems(page) {\r\n    this.props.firebase.posts().on('value', snapshot => {\r\n      if (snapshot.val()) {\r\n        var posts = Object.values(snapshot.val());\r\n        this.setState({ posts, hasMoreItems: false});\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const loader = <div key=\"loader\">Loading...</div>;\r\n    return (\r\n      <Container>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md=\"auto\">\r\n            <InfiniteScroll\r\n                pageStart={0}\r\n                loadMore={this.loadItems.bind(this)}\r\n                hasMore={this.state.hasMoreItems}\r\n                loader={loader}>\r\n                <div className=\"posts\">\r\n                  {this.state.posts.map((post, i) => {\r\n                    return <PostCard key={i} listens={post.listens} rating={post.rating} id={post.id} user={post.username} title={post.title} description={post.description} audioURL={post.audioPath}/>\r\n                  })}\r\n                </div>\r\n            </InfiniteScroll>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(PostScroller);","import React, { Component } from 'react';\r\nimport Tabs from 'react-bootstrap/Tabs'\r\nimport Tab from 'react-bootstrap/Tab'\r\nimport Button from 'react-bootstrap/Button';\r\nimport { PostScroller, BattleScroller } from '../Scrollers'\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nimport './Home.css'\r\nimport { withAuthorization } from '../Session';\r\n\r\n\r\nclass Home extends Component {\r\n  render() {\r\n    return (\r\n      <Tabs defaultActiveKey=\"posts\" id=\"uncontrolled-tab-example\">\r\n        <Tab eventKey=\"posts\" title=\"Posts\">\r\n          <div>\r\n            <p>Want to upload a song?</p>  {/*make this look better*/}\r\n            <LinkContainer to={ROUTES.POST}>\r\n               <Button variant=\"primary\">Upload</Button>\r\n            </LinkContainer>\r\n          </div>\r\n            \r\n          <PostScroller />\r\n        </Tab>\r\n        {false && <Tab eventKey=\"battles\" title=\"Battles\">\r\n          <BattleScroller />\r\n        </Tab>}\r\n\r\n        {/*add tabs for each genre*/}\r\n      </Tabs>\r\n    );\r\n  }\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\nexport default withAuthorization(condition)(Home);","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nimport './Battle.css';\r\n\r\nclass Battle extends Component {\r\n  componentDidMount () {\r\n    /*const test = document.createElement(\"script\");\r\n    test.src = \"/test.js\";\r\n    test.async = true;\r\n\r\n    document.body.appendChild(test);\r\n    const RTCMultiConnection = window.RTCMultiConnection;\r\n    const conn = new RTCMultiConnection()\r\n    console.log(conn)*/\r\n  }\r\n   \r\n  render() {\r\n    return (\r\n      <Container fluid={true} className=\"flex-grow-column\">\r\n        <Row className=\"flex-grow-row\">\r\n          <Col md={9} className=\"flex-grow-column\">\r\n            <Container className=\"flex-grow-column\">\r\n              <Row className=\"flex-grow-row bordered\">\r\n                <section className=\"make-center\">\r\n                  <input type=\"text\" id=\"broadcast-id\" autoCorrect=\"off\" autoCapitalize=\"off\" size=\"20\"/>\r\n                  <button id=\"open-or-join\">Open or Join Broadcast</button>\r\n\r\n                  <div className=\"make-center\" id=\"broadcast-viewers-counter\"></div>\r\n\r\n                  <video id=\"video-preview\" controls loop></video>\r\n                </section>\r\n                <section className=\"make-center\">\r\n                  <input type=\"text\" id=\"broadcast-id2\" autoCorrect=\"off\" autoCapitalize=\"off\" size=\"20\"/>\r\n                  <button id=\"open-or-join2\">Open or Join Broadcast</button>\r\n\r\n                  <div className=\"make-center\" id=\"broadcast-viewers-counter2\"></div>\r\n\r\n                  <video id=\"video-preview2\" controls loop></video>\r\n                </section>\r\n              </Row>\r\n              <Row className=\"bordered\">\r\n                <p>\r\n                  Battle ID: {this.props.match.params.battleid} <br/>\r\n                  Rapper A vs. Rapper B <br/>\r\n                  Some other details\r\n                </p>\r\n              </Row>\r\n            </Container>\r\n          </Col>\r\n          <Col md={3} className=\"bordered\">\r\n            Chat bar\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Battle;\r\n","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst INITIAL_STATE = {\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  passwordOld: '',\r\n  error: null,\r\n  success: false,\r\n};\r\n\r\nclass ChangePasswordForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({ error: null, success: false });\r\n    const { passwordOld, passwordOne } = this.state;\r\n\r\n    var cred = this.props.firebase.EmailAuthProvider.credential(\r\n        this.props.email,\r\n        passwordOld\r\n    );\r\n\r\n    this.props.firebase.auth.currentUser.reauthenticateAndRetrieveDataWithCredential(cred)\r\n      .then(() => {\r\n        return this.props.firebase.doPasswordUpdate(passwordOne)\r\n      })\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE, success: true });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { passwordOld, passwordOne, passwordTwo, error, success } = this.state;\r\n    const isInvalid =\r\n      passwordOne !== passwordTwo || passwordOne === '' || passwordOld === '';\r\n\r\n    return (\r\n      <Form onSubmit={this.onSubmit}>\r\n        <h3>Change Password</h3>\r\n\r\n        <Form.Group controlId=\"passwordCurrent\">\r\n          <Form.Label>Current Password</Form.Label>\r\n          <Form.Control\r\n            name=\"passwordOld\"\r\n            value={passwordOld}\r\n            onChange={this.onChange}\r\n            type=\"password\"\r\n            placeholder=\"Current Password\"/>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"password\">\r\n          <Form.Label>New Password</Form.Label>\r\n          <Form.Control\r\n            name=\"passwordOne\"\r\n            value={passwordOne}\r\n            onChange={this.onChange}\r\n            type=\"password\"\r\n            placeholder=\"New Password\"/>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"passwordConfirm\">\r\n          <Form.Label>Confirm New Password</Form.Label>\r\n          <Form.Control\r\n            name=\"passwordTwo\"\r\n            value={passwordTwo}\r\n            onChange={this.onChange}\r\n            type=\"password\"\r\n            placeholder=\"Confirm New Password\"/>\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\" disabled={isInvalid}>\r\n          Save\r\n        </Button>\r\n\r\n        {error && <p className=\"error\">{error.message}</p>}\r\n        {success && <p className=\"success\">Password changed!</p>}\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(ChangePasswordForm);","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst INITIAL_STATE = {\r\n  error: null,\r\n  success: false,\r\n};\r\n\r\nclass DisplayNameForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const displayName = this.props.displayName;\r\n    this.state = { ...INITIAL_STATE, displayName };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({ error: null, success: false });\r\n    const { displayName } = this.state;\r\n\r\n    this.props.firebase.auth.currentUser\r\n      .updateProfile({\r\n        displayName: displayName\r\n      })\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE, success: true });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { displayName, error, success } = this.state;\r\n    const isInvalid = displayName === '';\r\n\r\n    return (\r\n      <Form onSubmit={this.onSubmit}>\r\n        <h3>Username</h3>\r\n        <Form.Group controlId=\"displayName\">\r\n          <Form.Control \r\n            name=\"displayName\"\r\n            value={displayName}\r\n            onChange={this.onChange}\r\n            type=\"text\"/>\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\" disabled={isInvalid}>\r\n          Save\r\n        </Button>\r\n\r\n        {error && <p className=\"error\">{error.message}</p>}\r\n        {success && <p className=\"success\">Username Updated! (Refresh for update)</p>}\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(DisplayNameForm);","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport ChangePasswordForm from '../ChangePassword';\r\nimport DisplayNameForm from './DisplayNameForm'\r\n\r\nimport { AuthUserContext } from '../Session';\r\nimport './Settings.css'\r\n\r\nclass Settings extends Component {\r\n  render() {\r\n    return (\r\n      <AuthUserContext.Consumer>\r\n        {authUser => (\r\n            <Container className=\"settings-container\">\r\n              <Row className=\"justify-content-md-center\">\r\n                <Col md=\"auto\">\r\n                  <h1>Settings</h1>\r\n                  <p>Account: {authUser.email}</p>\r\n                  <DisplayNameForm displayName={authUser.displayName} />\r\n                  <br/>\r\n                  <ChangePasswordForm email={authUser.email} />\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n          )}\r\n      </AuthUserContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Settings;","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {Typeahead} from 'react-bootstrap-typeahead';\r\nimport Loader from '../Loader';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\n\r\nconst INITIAL_STATE = {\r\n  bio: '',\r\n  artists: [],\r\n  genres: [],\r\n  error: null,\r\n  success: false,\r\n  showLoader: true\r\n};\r\n\r\nclass ProfileForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.firebase.users().on('value', snapshot => {\r\n      const userData = snapshot.val()[this.props.uid];\r\n      this.setState({\r\n        bio: userData[\"bio\"],\r\n        artists: userData[\"artists\"] || [],\r\n        genres: userData[\"genres\"] || [],\r\n        showLoader: false,\r\n      });\r\n    });\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({ error: null, success: false });\r\n    const { bio, artists, genres } = this.state;\r\n\r\n    this.props.firebase\r\n      .user(this.props.uid)\r\n      .update({\r\n        bio,\r\n        artists,\r\n        genres\r\n      }).then(() => {\r\n        this.setState({ success: true });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n  render() {\r\n    const { bio, artists, genres, error, success } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.onSubmit}>\r\n        <Loader visible={this.state.showLoader}/>\r\n        <Form.Group controlId=\"bio\">\r\n          <Form.Label>Bio</Form.Label>\r\n          <Form.Control \r\n            name=\"bio\"\r\n            value={bio}\r\n            onChange={this.onChange}\r\n            as=\"textarea\" \r\n            rows=\"3\" />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"artists\">\r\n          <Form.Label>Favorite Artists</Form.Label>\r\n          <Typeahead\r\n            id=\"artists\"\r\n            multiple\r\n            name=\"artists\"\r\n            selected={artists}\r\n            onChange={(selected) =>{\r\n              this.setState({artists: selected});\r\n            }}\r\n            options={[\"john\", \"elton\", \"candy\", \"man\", \"ooga\", \"booga\"]}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"genres\">\r\n          <Form.Label>Favorite Genres</Form.Label>\r\n          <Typeahead\r\n            id=\"genres\"\r\n            multiple\r\n            name=\"genres\"\r\n            selected={genres}\r\n            onChange={(selected) =>{\r\n              this.setState({genres: selected});\r\n            }}\r\n            options={[\"john\", \"elton\", \"candy\", \"man\", \"ooga\", \"booga\"]}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          Save\r\n        </Button>\r\n\r\n        {error && <p className=\"error\">{error.message}</p>}\r\n        {success && <p className=\"success\">Profile updated!</p>}\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(ProfileForm);","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Settings from '../Settings';\r\nimport ProfileForm from './ProfileForm';\r\n\r\nimport { AuthUserContext, withAuthorization } from '../Session';\r\n\r\nclass Profile extends Component {\r\n  render() {\r\n    return (\r\n      <AuthUserContext.Consumer>\r\n        {({authUser, updateAuth}) => (\r\n            <Tabs defaultActiveKey=\"profile\" id=\"uncontrolled-tab-example\">\r\n              <Tab eventKey=\"profile\" title=\"Profile\">\r\n                <Container className=\"settings-container\">\r\n                  <Row className=\"justify-content-md-center\">\r\n                    <Col md=\"auto\">\r\n                      <h1>Profile</h1>\r\n                      <ProfileForm uid={authUser.uid}/>\r\n                    </Col>\r\n                  </Row>\r\n                </Container>\r\n              </Tab>\r\n              <Tab eventKey=\"settings\" title=\"Settings\">\r\n                <Settings />\r\n              </Tab>\r\n              {false && <Tab eventKey=\"notifications\" title=\"Notifications\">\r\n                <div>Coming soon</div>\r\n              </Tab>}\r\n            </Tabs>\r\n          )}\r\n      </AuthUserContext.Consumer>\r\n            \r\n    );\r\n  }\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\nexport default withAuthorization(condition)(Profile);\r\n","import React, { Component } from 'react';\r\nimport queryString from 'query-string';\r\n\r\nclass Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { searchTerm: null };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let search = queryString.parse(this.props.history.location.search).q\r\n    this.setState({searchTerm: decodeURI(search)})\r\n  }\r\n\r\n  componentWillReceiveProps(nProps){\r\n    this.setState({searchTerm: decodeURI(queryString.parse(this.props.history.location.search).q)})\r\n  }\r\n\r\n  render() {\r\n    const term = this.state.searchTerm;\r\n    return (\r\n      <div>\r\n        <h1>Search</h1>\r\n        {term &&\r\n          <p>You searched for \"{term}\".</p>\r\n        }\r\n      </div>\r\n  \r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Loader from '../Loader'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withFirebase } from '../Firebase';\r\nimport { compose } from 'recompose';\r\n\r\nimport './Signup.css';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst INITIAL_STATE = {\r\n  username: '',\r\n  email: '',\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  error: null,\r\n  showLoader: false,\r\n};\r\n\r\nclass SignupBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({ showLoader: true });\r\n    const { username, email, passwordOne } = this.state;\r\n\r\n    const userFields = {\r\n      bio: '',\r\n      artists: [],\r\n      genres: []\r\n    }\r\n\r\n    this.props.firebase\r\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n      .then(authUser => {\r\n        return authUser.user.updateProfile({\r\n          displayName: username\r\n        })\r\n        .then(() => {\r\n          return authUser;\r\n        });\r\n      })\r\n      .then(authUser => {\r\n        return this.props.firebase\r\n          .user(authUser.user.uid)\r\n          .set({\r\n            ...userFields,\r\n            username,\r\n            email,\r\n          })\r\n      })\r\n      .then(() => {\r\n        return this.props.firebase.doSignOut()\r\n      })\r\n      .then(() => {\r\n        return this.props.firebase.doSignInWithEmailAndPassword(email, passwordOne)\r\n      })  \r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.props.history.push(ROUTES.HOME);\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error, showLoader: false });\r\n      });\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      username,\r\n      email,\r\n      passwordOne,\r\n      passwordTwo,\r\n      error,\r\n    } = this.state;\r\n\r\n    const isInvalid =\r\n      passwordOne !== passwordTwo ||\r\n      passwordOne === '' ||\r\n      email === '' ||\r\n      username === '';\r\n\r\n    return (\r\n      <Container>\r\n        <Loader visible={this.state.showLoader} />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md=\"auto\">\r\n            <Form onSubmit={this.onSubmit}>\r\n              <h1>Sign up</h1>\r\n\r\n              <Form.Group controlId=\"username\">\r\n                <Form.Label>Full Name</Form.Label>\r\n                <Form.Control \r\n                  name=\"username\"\r\n                  value={username}\r\n                  onChange={this.onChange}\r\n                  type=\"text\"\r\n                  placeholder=\"John Doe\" />\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"email\">\r\n                <Form.Label>Email Address</Form.Label>\r\n                <Form.Control\r\n                  name=\"email\"\r\n                  value={email}\r\n                  onChange={this.onChange}\r\n                  type=\"text\"\r\n                  placeholder=\"Email Address\"/>\r\n                <Form.Text className=\"text-muted\">\r\n                  We'll never share your email with anyone else.\r\n                </Form.Text>\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"password\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control\r\n                  name=\"passwordOne\"\r\n                  value={passwordOne}\r\n                  onChange={this.onChange}\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"/>\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"passwordConfirm\">\r\n                <Form.Label>Confirm Password</Form.Label>\r\n                <Form.Control\r\n                  name=\"passwordTwo\"\r\n                  value={passwordTwo}\r\n                  onChange={this.onChange}\r\n                  type=\"password\"\r\n                  placeholder=\"Confirm Password\"/>\r\n              </Form.Group>\r\n\r\n              <Button variant=\"primary\" type=\"submit\" disabled={isInvalid}>\r\n                Sign up\r\n              </Button>\r\n\r\n              {error && <p className=\"error\">{error.message}</p>}\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst Signup = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(SignupBase);\r\n\r\nexport default Signup;\r\n","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Loader from '../Loader'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withFirebase } from '../Firebase';\r\nimport { compose } from 'recompose';\r\n\r\nimport './Signin.css'\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  password: '',\r\n  error: null,\r\n  showLoader: false,\r\n};\r\n\r\nclass SigninBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    this.setState({ showLoader: true });\r\n    const { email, password } = this.state;\r\n\r\n    this.props.firebase\r\n      .doSignInWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.props.history.push(ROUTES.HOME);\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error, showLoader: false });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, password, error } = this.state;\r\n\r\n    const isInvalid = password === '' || email === '';\r\n\r\n    return (\r\n      <Container>\r\n        <Loader visible={this.state.showLoader} />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md=\"auto\">\r\n            <Form onSubmit={this.onSubmit}>\r\n              <h1>Sign in</h1>\r\n\r\n              <Form.Group controlId=\"email\">\r\n                <Form.Label>Email Address</Form.Label>\r\n                <Form.Control\r\n                  name=\"email\"\r\n                  value={email}\r\n                  onChange={this.onChange}\r\n                  type=\"text\"\r\n                  placeholder=\"Email Address\"/>\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"password\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control\r\n                name=\"password\"\r\n                value={password}\r\n                onChange={this.onChange}\r\n                type=\"password\"\r\n                placeholder=\"Password\"/>\r\n                <LinkContainer to={ROUTES.FORGOTPW}>\r\n                  <Nav.Link className=\"link-sm\">Forgot your password?</Nav.Link>\r\n                </LinkContainer>\r\n                  \r\n              </Form.Group>\r\n\r\n              <Button variant=\"primary\" type=\"submit\" disabled={isInvalid}>\r\n                Sign in\r\n              </Button>\r\n\r\n              {error && <p className=\"error\">{error.message}</p>}\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst Signin = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(SigninBase);\r\n\r\nexport default Signin;","import React, { Component } from 'react';\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nimport './NotFound.css'\r\n\r\nclass NotFound extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"notfound-container\">\r\n        <h1>404</h1>\r\n        <p>The page you are looking for does not exist. :(</p>\r\n        <LinkContainer to={ROUTES.HOME} className=\"notfound-link\">\r\n           <Nav.Link>Go Home</Nav.Link>\r\n        </LinkContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFound;\r\n","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  error: null,\r\n  success: false\r\n};\r\n\r\nclass ForgotPassword extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    this.setState({ error: null, success: false });\r\n    const { email } = this.state;\r\n\r\n    this.props.firebase\r\n      .doPasswordReset(email)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE, success: true });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, error, success } = this.state;\r\n    const isInvalid = email === '';\r\n\r\n    return (\r\n      <Container>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md=\"auto\">\r\n            <Form onSubmit={this.onSubmit}>\r\n              <h1>Reset Password</h1>\r\n\r\n              <Form.Group controlId=\"email\">\r\n                <Form.Label>Email Address</Form.Label>\r\n                <Form.Control\r\n                  name=\"email\"\r\n                  value={email}\r\n                  onChange={this.onChange}\r\n                  type=\"text\"\r\n                  placeholder=\"Email Address\"/>\r\n              </Form.Group>\r\n\r\n              <Button variant=\"primary\" type=\"submit\" disabled={isInvalid}>\r\n                Reset Password\r\n              </Button>\r\n\r\n              {error && <p className=\"error\">{error.message}</p>}\r\n              {success && <p className=\"success\">Successfully reset! You show have received an email.</p>}\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(ForgotPassword);\r\n","import React, { Component } from 'react';\r\nimport { \r\n  Provider, \r\n  Heading, \r\n  Subhead, \r\n  Flex,\r\n  NavLink,\r\n  Small\r\n} from 'rebass'\r\nimport {\r\n  Hero, \r\n  CallToAction, \r\n  ScrollDownIndicator, \r\n  Feature, \r\n  Testimony,\r\n  Contributor\r\n} from 'react-landing-page'\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nimport * as ROUTES from '../../constants/routes';\r\nimport './Landing.css';\r\nimport jingPhoto from './jing.jpg';\r\nimport rudyPhoto from './rudy.jpg';\r\nimport background from './landingBackground.jpg'\r\n\r\nclass Landing extends Component {\r\n  render() {\r\n    return (\r\n      <Provider className=\"landing-wrapper\">\r\n        <Hero\r\n          color=\"black\"\r\n          bg=\"white\"\r\n          backgroundImage={background}\r\n        >\r\n            <Heading>Name of your app</Heading>\r\n            <Subhead>a couple more words</Subhead>\r\n            <LinkContainer to={ROUTES.SIGNUP}>\r\n              <CallToAction mt={3}>Sign Up!</CallToAction>\r\n            </LinkContainer>\r\n            <ScrollDownIndicator/>\r\n        </Hero>\r\n        <Heading className=\"margin-heading\" textAlign=\"center\">Features</Heading>\r\n        <Flex flexWrap=\"wrap\" justifyContent=\"center\">\r\n            <Feature icon=\"\" description=\"What your users see first\">\r\n                Hero\r\n            </Feature>\r\n            <Feature icon=\"\" description=\"What your app can do\">\r\n                Features\r\n            </Feature>\r\n            <Feature icon=\"\" description=\"How to keep in touch\">\r\n                Sign Up\r\n            </Feature>\r\n        </Flex>\r\n        <Heading className=\"margin-heading\" textAlign=\"center\">What people are saying</Heading>\r\n        <Flex alignItems=\"flex-end\" justifyContent=\"space-around\">\r\n\r\n            <Testimony\r\n                className=\"padded-testimony grow-card\"\r\n                authorAvatar={jingPhoto}\r\n                authorName=\"Herman Starikov\"\r\n                authorTitle=\"developer\">\r\n                Use react-landing-page for your landing page needs. Or do not, I am not a beggar...\r\n            </Testimony>\r\n\r\n            <Testimony\r\n                className=\"padded-testimony grow-card\"\r\n                authorAvatar={jingPhoto}\r\n                authorName=\"Herman Starikov\"\r\n                authorTitle=\"developer\">\r\n                Use react-landing-page for your landing page needs. Or do not, I am not a beggar...\r\n            </Testimony>\r\n\r\n            <Testimony\r\n                className=\"padded-testimony grow-card\"\r\n                authorAvatar={jingPhoto}\r\n                authorName=\"Herman Starikov\"\r\n                authorTitle=\"developer\">\r\n                Use react-landing-page for your landing page needs. Or do not, I am not a beggar...\r\n            </Testimony>\r\n\r\n        </Flex>\r\n        <Heading className=\"margin-heading\" textAlign=\"center\">Made by</Heading>\r\n        <Flex justifyContent=\"center\">\r\n            <Contributor\r\n                className=\"grow-card\"\r\n                fullName=\"Jinghu Lei\"\r\n                title=\"developer\"\r\n                avatar={jingPhoto}\r\n                >\r\n                <Flex>\r\n                    <NavLink href='https://github.com/jinghul'>GitHub</NavLink>\r\n                </Flex>\r\n            </Contributor>\r\n\r\n            <Contributor\r\n                className=\"grow-card\"\r\n                fullName=\"Rudhra Raveendran\"\r\n                title=\"developer\"\r\n                avatar={rudyPhoto}\r\n                >\r\n                <Flex>\r\n                    <NavLink href='https://github.com/ROODAY'>GitHub</NavLink>\r\n                </Flex>\r\n            </Contributor>\r\n        </Flex>\r\n        <Flex is=\"footer\" alignItems=\"center\" p={3}>\r\n            <NavLink children=\"Source Code\" href=\"#\"/>\r\n            <NavLink children=\"Writeup\" href=\"#\"/>\r\n            <Small color=\"grey\" ml=\"auto\"> NUS Ventures, 2019</Small>\r\n        </Flex>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Landing;\r\n","import React, { Component } from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Countdown from 'react-countdown-now';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Loader from '../Loader';\r\n\r\nimport './Post.css'\r\nimport { withFirebase } from '../Firebase';\r\nimport { withAuthorization } from '../Session';\r\n\r\n// fix countdown, perhaps use better speech to text\r\n\r\nconst timer = 6 * 1000;\r\n\r\nconst INITIAL_STATE = {\r\n  title: '',\r\n  description: '',\r\n  error: null,\r\n  success: false,\r\n  showForm: false,\r\n  recording: false,\r\n  audioBlob: null,\r\n  transcript: '',\r\n  showLoader: false,\r\n  countdownDate: Date.now() + timer\r\n};\r\n\r\nfunction uuidv4() {\r\n  return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\r\n    // eslint-disable-next-line\r\n    (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\r\n  )\r\n}\r\n\r\nclass Post extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      ...INITIAL_STATE,\r\n      audioUrl: null\r\n    }\r\n\r\n    this.countdown = React.createRef();\r\n\r\n    this.startRecording = this.startRecording.bind(this);\r\n  }\r\n\r\n  startRecording() {\r\n    navigator.mediaDevices.getUserMedia({ audio: true })\r\n    .then(stream => {\r\n      const mediaRecorder = new MediaRecorder(stream);\r\n      const recognition = new window.webkitSpeechRecognition();\r\n      mediaRecorder.start();\r\n      recognition.start();\r\n      \r\n      recognition.onresult = (event) => {\r\n        const speechToText = event.results[0][0].transcript;\r\n        this.setState({transcript: speechToText, showForm: true});\r\n      }\r\n\r\n      recognition.onnomatch = (event) => {\r\n        this.setState({transcript: \"Could not transcribe\", showForm: true});\r\n      }\r\n\r\n      this.countdown.current.date = Date.now() + 3000;\r\n      this.countdown.current.getApi().start();\r\n      this.setState({recording: true, success: null})\r\n\r\n      const audioChunks = [];\r\n\r\n      mediaRecorder.addEventListener(\"dataavailable\", event => {\r\n        audioChunks.push(event.data);\r\n      });\r\n\r\n      mediaRecorder.addEventListener(\"stop\", () => {\r\n        const audioBlob = new Blob(audioChunks);\r\n        const audioUrl = URL.createObjectURL(audioBlob);\r\n        this.setState({audioUrl, audioBlob, recording: false});\r\n\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(audioBlob); \r\n        reader.onloadend = function() {\r\n          var base64data = reader.result;\r\n        }\r\n      });\r\n\r\n      setTimeout(() => {\r\n        mediaRecorder.stop();\r\n        recognition.stop();\r\n      }, timer);\r\n    });\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({showLoader: true});\r\n    const {title, description, transcript} = this.state;\r\n    const username = this.props.firebase.auth.currentUser.displayName;\r\n    const id = uuidv4();\r\n\r\n    this.props.firebase.song(id).put(this.state.audioBlob)\r\n    .then(snapshot => {\r\n      return this.props.firebase.song(id).getDownloadURL();\r\n    })\r\n    .then(audioPath => {\r\n      return this.props.firebase.post(id).set({\r\n        username,\r\n        title,\r\n        description,\r\n        audioPath,\r\n        transcript,\r\n        id\r\n      });\r\n    })\r\n    .then(() => {\r\n      this.setState({ ...INITIAL_STATE, success: true, showLoader: false });\r\n    })\r\n    .catch(error => {\r\n      this.setState({ error, showLoader: false });\r\n    });\r\n  }\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  }\r\n\r\n\r\n  render() {\r\n    const { title, description, error, success } = this.state;\r\n    const isInvalid = title === '' || description === '';\r\n\r\n    const countdownRenderer = ({ seconds }) => {\r\n      if (seconds === 1) {\r\n        return <h3>Time Left: {seconds} second</h3>;\r\n      } else {\r\n        return <h3>Time Left: {seconds} seconds</h3>;\r\n      }\r\n    };\r\n\r\n    return (\r\n      <Container className=\"settings-container\">\r\n        <Loader visible={this.state.showLoader} />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md=\"auto\">\r\n            <h1>Upload a song</h1>\r\n            <p>Press record and sing until the timer is over! <br/>\r\n            If you're satisfied, upload the clip to our servers for processing, <br/>\r\n            or press Start to record again!</p>\r\n            <Button onClick={this.startRecording}>Start Recording</Button> {this.state.recording && <div id=\"rec\">{null}</div>}<br/>\r\n            <Countdown date={this.state.countdownDate} autoStart={false} ref={this.countdown} renderer={countdownRenderer} />\r\n\r\n            {this.state.showForm && \r\n              \r\n              <Form onSubmit={this.onSubmit}>\r\n                <h3>Your Song</h3>\r\n                <audio src={this.state.audioUrl} controls></audio>\r\n                <p>{this.state.transcript}</p>\r\n                <Form.Group controlId=\"title\">\r\n                  <Form.Label>Title</Form.Label>\r\n                  <Form.Control \r\n                    name=\"title\"\r\n                    value={title}\r\n                    onChange={this.onChange}\r\n                    type=\"text\"/>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"description\">\r\n                  <Form.Label>Description</Form.Label>\r\n                  <Form.Control \r\n                    name=\"description\"\r\n                    value={description}\r\n                    onChange={this.onChange}\r\n                    as=\"textarea\" \r\n                    rows=\"3\" />\r\n                </Form.Group>\r\n\r\n                <Button variant=\"primary\" type=\"submit\" disabled={isInvalid}>\r\n                  Upload\r\n                </Button>\r\n              </Form>\r\n            }\r\n\r\n            {error && <p className=\"error\">{error.message}</p>}\r\n            {success && <p className=\"success\">Song Uploaded!</p>}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\nexport default withAuthorization(condition)(withFirebase(Post));","import React, { Component } from 'react';\nimport './bootstrap.min.css';\nimport './App.css';\n\nimport { \n  BrowserRouter as Router, \n  Switch,\n  Route \n} from 'react-router-dom';\nimport {\n  Navigation,\n  Home,\n  Battle,\n  Search,\n  Profile,\n  Signup,\n  Signin,\n  ForgotPassword,\n  NotFound,\n  Landing,\n  Post\n} from './components'\nimport * as ROUTES from './constants/routes';\nimport { withAuthentication } from './components/Session';\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <Navigation ref={this.nav}/>\n        \n        <Switch>\n          <Route exact path={ROUTES.LANDING} component={Landing} />\n          <Route path={ROUTES.HOME} component={Home} />\n          <Route path={ROUTES.BATTLE} component={Battle} />\n          <Route path={ROUTES.PROFILE} component={Profile} />\n          <Route path={ROUTES.SEARCH} component={Search} />\n          <Route path={ROUTES.SIGNUP} component={Signup} />\n          <Route path={ROUTES.SIGNIN} component={Signin} />\n          <Route path={ROUTES.FORGOTPW} component={ForgotPassword} />\n          <Route path={ROUTES.POST} component={Post} />\n          <Route component={NotFound} />\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default withAuthentication(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './App';\nimport Firebase, { FirebaseContext } from './components/Firebase';\n\nReactDOM.render(\n  <FirebaseContext.Provider value={new Firebase()}>\n    <App />\n  </FirebaseContext.Provider>, \n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/jing.72de4501.jpg\";"],"sourceRoot":""}