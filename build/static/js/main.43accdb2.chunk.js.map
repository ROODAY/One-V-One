{"version":3,"sources":["components/Landing/rudy.jpg","serviceWorker.js","components/Session/context.js","components/Loader/index.js","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/Session/withAuthentication.js","constants/routes.js","components/Session/withAuthorization.js","components/Navigation/AuthButtons.js","components/Navigation/NonAuthButtons.js","components/Navigation/SearchForm.js","components/Navigation/index.js","components/Scrollers/Battle/BattleCard.js","components/Scrollers/Battle/index.js","components/Scrollers/Post/PostCard.js","components/Scrollers/Post/index.js","components/Home/index.js","components/Battle/index.js","components/ChangePassword/index.js","components/Settings/DisplayNameForm.js","components/Settings/index.js","components/Profile/ProfileForm.js","components/Profile/index.js","components/Search/index.js","components/Signup/index.js","components/Signin/index.js","components/NotFound/index.js","components/ForgotPassword/index.js","components/Landing/index.js","components/Post/index.js","App.js","index.js","components/Landing/jing.jpg"],"names":["module","exports","__webpack_require__","p","Boolean","window","location","hostname","match","AuthUserContext","React","createContext","Loader","react_default","a","createElement","this","props","visible","className","Spinner_default","animation","variant","Component","FirebaseContext","withFirebase","Consumer","firebase","Object","assign","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","_this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","user","uid","db","ref","concat","users","post","posts","song","storage","child","songs","app","initializeApp","database","EmailAuthProvider","withAuthentication","WithAuthentication","_React$Component","possibleConstructorReturn","getPrototypeOf","call","state","authUser","showLoader","inherits","createClass","key","value","_this2","listener","onAuthStateChanged","setState","Session_context","Provider","components_Loader","HOME","SEARCH","withAuthorization","condition","WithAuthorization","apply","arguments","history","push","compose","withRouter","AuthButtons","displayName","lib","to","Nav_default","Link","ROUTES","onClick","NonAuthButtons","INITIAL_STATE","search","SearchForm","onSubmit","event","objectSpread","encodeURI","preventDefault","onChange","defineProperty","target","name","isInvalid","Form_default","inline","Control","type","placeholder","Button_default","disabled","Navigation","Navbar_default","bg","expand","Brand","Toggle","aria-controls","Collapse","id","Navigation_AuthButtons","Navigation_NonAuthButtons","BattleCard","Card_default","style","width","Body","Title","Text","battleId","makeid","length","text","possible","i","charAt","Math","floor","random","PostCard","context","handleChange","bind","assertThisInitialized","audioplayer","createRef","rating","listens","current","onplaying","update","es_Card","title","Subtitle","description","src","audioURL","controls","ButtonToolbar","ToggleButtonGroup","ToggleButton","role","aria-label","PostScroller","hasMoreItems","nextHref","page","on","snapshot","val","values","loader","Container_default","Row_default","Col_default","md","react_infinite_scroller_default","pageStart","loadMore","loadItems","hasMore","map","Post_PostCard","username","audioPath","Home","Tabs_default","defaultActiveKey","Tab_default","eventKey","Scrollers_Post","Battle","fluid","autoCorrect","autoCapitalize","size","loop","params","battleid","passwordOne","passwordTwo","passwordOld","error","success","ChangePasswordForm","_this$state","cred","credential","reauthenticateAndRetrieveDataWithCredential","then","catch","_this$state2","Group","controlId","Label","message","DisplayNameForm","updateProfile","Settings","Settings_DisplayNameForm","ChangePassword","bio","artists","genres","ProfileForm","userData","_this3","as","rows","es","multiple","selected","options","Profile","Profile_ProfileForm","components_Settings","Search","searchTerm","queryString","parse","q","decodeURI","nProps","term","SignupBase","userFields","set","Signup","SigninBase","Signin","NotFound","ForgotPassword","Landing","dist","react_landing_page_dist","color","backgroundImage","href","mt","textAlign","flexWrap","justifyContent","icon","alignItems","authorAvatar","jingPhoto","authorName","authorTitle","fullName","avatar","rudyPhoto","is","children","ml","showForm","recording","audioBlob","transcript","countdownDate","Date","now","Post","replace","c","crypto","getRandomValues","Uint8Array","toString","put","getDownloadURL","audioUrl","countdown","startRecording","navigator","mediaDevices","getUserMedia","audio","stream","mediaRecorder","MediaRecorder","recognition","webkitSpeechRecognition","start","onresult","speechToText","results","onnomatch","date","getApi","audioChunks","addEventListener","data","Blob","URL","createObjectURL","reader","FileReader","readAsDataURL","onloadend","result","setTimeout","stop","index_es","autoStart","renderer","_ref","seconds","react_router_dom","components_Navigation","nav","react_router","exact","path","component","ReactDOM","render","Firebase_context","src_App_0","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.43accdb2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/rudy.75865109.jpg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\n\r\nconst AuthUserContext = React.createContext(null);\r\n\r\nexport default AuthUserContext;","import React, { Component } from 'react';\r\nimport Spinner from 'react-bootstrap/Spinner'\r\n\r\nimport './Loader.css'\r\n\r\nclass Loader extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.props.visible &&\r\n          <div className=\"loader-container\">\r\n            <Spinner animation=\"border\" variant=\"primary\" />\r\n          </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loader;\r\n\r\n\r\n","import React from 'react';\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n  <FirebaseContext.Consumer>\r\n    {firebase => <Component {...props} firebase={firebase} />}\r\n  </FirebaseContext.Consumer>\r\n);\r\n\r\nexport default FirebaseContext;","import app from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport 'firebase/storage';\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n};\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(config);\r\n\r\n    this.auth = app.auth();\r\n    this.db = app.database();\r\n    this.storage = app.storage();\r\n    this.EmailAuthProvider = app.auth.EmailAuthProvider;\r\n  }\r\n\r\n  // Auth\r\n  doCreateUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n  doSignInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n  doSignOut = () => this.auth.signOut();\r\n\r\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n  doPasswordUpdate = password =>\r\n    this.auth.currentUser.updatePassword(password);\r\n\r\n  // DB\r\n  user = uid => this.db.ref(`users/${uid}`);\r\n  users = () => this.db.ref('users');\r\n\r\n  post = uid => this.db.ref(`posts/${uid}`);\r\n  posts = () => this.db.ref('posts');\r\n\r\n  song = uid => this.storage.ref().child(`audio/${uid}`);\r\n  songs = () => this.storage.ref().child('audio');\r\n}\r\n\r\nexport default Firebase;","import FirebaseContext, { withFirebase } from './context';\r\nimport Firebase from './firebase';\r\n\r\nexport default Firebase;\r\n\r\nexport { FirebaseContext, withFirebase };","import React from 'react';\r\nimport Loader from '../Loader'\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst withAuthentication = Component => {\r\n  class WithAuthentication extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        authUser: null,\r\n        showLoader: true\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n        authUser => {\r\n          authUser\r\n            ? this.setState({ authUser })\r\n            : this.setState({ authUser: null });\r\n          this.setState({ showLoader: false });\r\n        },\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Provider value={this.state.authUser}>\r\n          <Loader visible={this.state.showLoader} />\r\n          <Component {...this.props} />\r\n        </AuthUserContext.Provider>\r\n       );\r\n    }\r\n  }\r\n\r\n  return withFirebase(WithAuthentication);\r\n};\r\n\r\nexport default withAuthentication;","export const LANDING = '/'\r\nexport const HOME = '/home';\r\nexport const SIGNUP = '/signup';\r\nexport const SIGNIN = '/signin';\r\nexport const SIGNOUT = '/signout';\r\nexport const PROFILE = '/profile';\r\nexport const SEARCH = '/search'\r\nexport const BATTLE = '/battle/:battleid';\r\nexport const FORGOTPW = '/forgot';\r\nexport const POST = '/post';","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst withAuthorization = condition => Component => {\r\n  class WithAuthorization extends React.Component {\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n        authUser => {\r\n          if (!condition(authUser)) {\r\n            this.props.history.push(ROUTES.SIGNIN);\r\n          }\r\n        },\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Consumer>\r\n          {authUser =>\r\n            condition(authUser) ? <Component {...this.props} /> : null\r\n          }\r\n        </AuthUserContext.Consumer>\r\n      );\r\n    }\r\n  }\r\n\r\n  return compose(\r\n    withRouter,\r\n    withFirebase,\r\n  )(WithAuthorization);\r\n};\r\n\r\nexport default withAuthorization;","import React, { Component } from 'react';\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { AuthUserContext } from '../Session';\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nclass AuthButtons extends Component {\r\n  render() {\r\n    return (\r\n      <AuthUserContext.Consumer>\r\n        {authUser =>\r\n          <div className=\"flex\">\r\n            <div className=\"v-align\">Hi, {authUser.displayName}</div>\r\n            <LinkContainer to={ROUTES.PROFILE}>\r\n               <Nav.Link>Profile</Nav.Link>\r\n            </LinkContainer>\r\n            <LinkContainer to={ROUTES.HOME}>\r\n              <Nav.Link onClick={this.props.firebase.doSignOut}>Sign out</Nav.Link>\r\n            </LinkContainer>\r\n          </div>\r\n        }\r\n      </AuthUserContext.Consumer>\r\n          \r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(AuthButtons);\r\n","import React, { Component } from 'react';\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nclass NonAuthButtons extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"flex\">\r\n        <LinkContainer to={ROUTES.SIGNUP}>\r\n          <Nav.Link>Sign up</Nav.Link>\r\n        </LinkContainer>\r\n        <LinkContainer to={ROUTES.SIGNIN}>\r\n          <Nav.Link>Sign in</Nav.Link>\r\n        </LinkContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NonAuthButtons;\r\n","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst INITIAL_STATE = {\r\n  search: '',\r\n};\r\n\r\nclass SearchForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { search } = this.state;\r\n    this.setState({ ...INITIAL_STATE });\r\n    this.props.history.push(`${ROUTES.SEARCH}?q=${encodeURI(search)}`);\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { search } = this.state;\r\n    const isInvalid = search === '';\r\n\r\n    return (\r\n      <Form inline onSubmit={this.onSubmit}>\r\n        <Form.Control \r\n          name=\"search\"\r\n          value={search}\r\n          onChange={this.onChange}\r\n          type=\"text\" \r\n          placeholder=\"Search\" \r\n          className=\"mr-sm-2\" />\r\n        <Button variant=\"outline-success\" type=\"submit\" disabled={isInvalid}>Search</Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(SearchForm);","import React, { Component } from 'react';\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { AuthUserContext } from '../Session';\r\nimport AuthButtons from './AuthButtons'\r\nimport NonAuthButtons from './NonAuthButtons'\r\nimport SearchForm from './SearchForm'\r\n\r\nimport './Navigation.css';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nclass Navigation extends Component {\r\n  render() {\r\n    return (\r\n      <AuthUserContext.Consumer>\r\n        {authUser => \r\n          <Navbar bg=\"light\" expand=\"lg\" className=\"app-navbar\">\r\n            <LinkContainer to={ROUTES.LANDING}>\r\n              <Navbar.Brand>One V. One</Navbar.Brand>\r\n            </LinkContainer>\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\">\r\n              <Nav className=\"mr-auto\">\r\n                {authUser && <LinkContainer to={ROUTES.HOME}>\r\n                   <Nav.Link>Home</Nav.Link>\r\n                </LinkContainer>}\r\n                {false && <SearchForm />}\r\n              </Nav>\r\n              {authUser ? <AuthButtons /> : <NonAuthButtons />}\r\n            </Navbar.Collapse>\r\n          </Navbar>\r\n        }\r\n      </AuthUserContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;\r\n","import React, { Component } from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nclass BattleCard extends Component {\r\n  render() {\r\n    return (\r\n      <Card style={{ width: '18rem' }}>\r\n        <Card.Body>\r\n          <Card.Title>Rapper A Vs. Rapper B.</Card.Title>\r\n          <Card.Text>\r\n            Throwdown of the century\r\n          </Card.Text>\r\n          <LinkContainer to={\"/battle/\" + this.props.battleId}>\r\n            <Button variant=\"primary\">View</Button>\r\n          </LinkContainer>\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BattleCard;\r\n","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport InfiniteScroll from 'react-infinite-scroller'\r\nimport BattleCard from './BattleCard'\r\n\r\nfunction makeid(length) {\r\n  var text = \"\";\r\n  var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n  for (var i = 0; i < length; i++)\r\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\r\n  return text;\r\n}\r\n\r\nclass BattleScroller extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      battles: [\"first\"],\r\n      hasMoreItems: true,\r\n      nextHref: null\r\n    };\r\n  }\r\n\r\n  loadItems(page) {\r\n    const self = this;\r\n    var battles = this.state.battles;\r\n    for (var i = 0; i < 10; i++) {\r\n      battles.push(makeid(6))\r\n    }\r\n    setTimeout(function(){\r\n      if (battles.length < 100) {\r\n        self.setState({ battles });\r\n      } else {\r\n        self.setState({ battles, hasMoreItems: false});\r\n      }\r\n    }, 750);\r\n  }\r\n\r\n  render() {\r\n    const loader = <div key=\"loader\">Loading...</div>;\r\n    return (\r\n      <Container>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md=\"auto\">\r\n            <InfiniteScroll\r\n                pageStart={0}\r\n                loadMore={this.loadItems.bind(this)}\r\n                hasMore={this.state.hasMoreItems}\r\n                loader={loader}>\r\n                <div className=\"battles\">\r\n                    {this.state.battles.map((battle, i) => <BattleCard key={i} battleId={battle}/>)}\r\n                </div>\r\n            </InfiniteScroll>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BattleScroller;\r\n","import React, { Component } from 'react';\r\nimport {\r\n  Card,\r\n  ButtonToolbar,\r\n  ToggleButtonGroup,\r\n  ToggleButton\r\n} from 'react-bootstrap';\r\nimport { withFirebase } from '../../Firebase';\r\n\r\n// add rank and genre to cards\r\n\r\nclass PostCard extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n\r\n    this.audioplayer = React.createRef();\r\n\r\n    this.state = {\r\n      value: this.props.rating,\r\n      listens: this.props.listens || 0\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.audioplayer.current.onplaying = event => {\r\n      const listens = this.state.listens + 1;\r\n      this.setState({listens});\r\n      this.props.firebase.post(this.props.id).update({\r\n        listens\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChange(value, event) {\r\n    if (value.length > 1) {\r\n      value = value[1]\r\n    } else if (value.length > 0) {\r\n      value = value[0]\r\n    } else {\r\n      value = 0\r\n    }\r\n    this.setState({ value });\r\n    this.props.firebase.post(this.props.id).update({\r\n      rating: value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Card style={{ width: 'fit-content' }}>\r\n        <Card.Body>\r\n          <Card.Title>{this.props.title}</Card.Title>\r\n          <Card.Subtitle className=\"mb-2 text-muted\">{this.props.user}</Card.Subtitle>\r\n          <Card.Text>\r\n            {this.props.description}\r\n          </Card.Text>\r\n          <audio src={this.props.audioURL} controls ref={this.audioplayer}></audio><br/>\r\n          <ButtonToolbar>\r\n            <ToggleButtonGroup \r\n              value={this.state.value}\r\n              onChange={this.handleChange}\r\n              type=\"checkbox\" \r\n              name=\"options\">\r\n              <ToggleButton value={1}><span role=\"img\" aria-label=\"like\"></span></ToggleButton>\r\n              <ToggleButton value={2}><span role=\"img\" aria-label=\"dislike\"></span></ToggleButton>\r\n            </ToggleButtonGroup>\r\n\r\n            <span className=\"listens\" role=\"img\" aria-label=\"listens\">: {this.state.listens}</span>\r\n          </ButtonToolbar>\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(PostCard);\r\n","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport InfiniteScroll from 'react-infinite-scroller'\r\nimport PostCard from './PostCard'\r\nimport { withFirebase } from '../../Firebase';\r\n\r\nclass PostScroller extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      posts: [],\r\n      hasMoreItems: true,\r\n      nextHref: null\r\n    };\r\n  }\r\n\r\n  loadItems(page) {\r\n    this.props.firebase.posts().on('value', snapshot => {\r\n      if (snapshot.val()) {\r\n        var posts = Object.values(snapshot.val());\r\n        this.setState({ posts, hasMoreItems: false});\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const loader = <div key=\"loader\">Loading...</div>;\r\n    return (\r\n      <Container>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md=\"auto\">\r\n            <InfiniteScroll\r\n                pageStart={0}\r\n                loadMore={this.loadItems.bind(this)}\r\n                hasMore={this.state.hasMoreItems}\r\n                loader={loader}>\r\n                <div className=\"posts\">\r\n                  {this.state.posts.map((post, i) => {\r\n                    return <PostCard key={i} listens={post.listens} rating={post.rating} id={post.id} user={post.username} title={post.title} description={post.description} audioURL={post.audioPath}/>\r\n                  })}\r\n                </div>\r\n            </InfiniteScroll>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(PostScroller);","import React, { Component } from 'react';\r\nimport Tabs from 'react-bootstrap/Tabs'\r\nimport Tab from 'react-bootstrap/Tab'\r\nimport Button from 'react-bootstrap/Button';\r\nimport { PostScroller, BattleScroller } from '../Scrollers'\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nimport './Home.css'\r\nimport { withAuthorization } from '../Session';\r\n\r\n\r\nclass Home extends Component {\r\n  render() {\r\n    return (\r\n      <Tabs defaultActiveKey=\"posts\" id=\"uncontrolled-tab-example\">\r\n        <Tab eventKey=\"posts\" title=\"Posts\">\r\n          <div>\r\n            <p>Want to upload a song?</p>  {/*make this look better*/}\r\n            <LinkContainer to={ROUTES.POST}>\r\n               <Button variant=\"primary\">Upload</Button>\r\n            </LinkContainer>\r\n          </div>\r\n            \r\n          <PostScroller />\r\n        </Tab>\r\n        {false && <Tab eventKey=\"battles\" title=\"Battles\">\r\n          <BattleScroller />\r\n        </Tab>}\r\n\r\n        {/*add tabs for each genre*/}\r\n      </Tabs>\r\n    );\r\n  }\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\nexport default withAuthorization(condition)(Home);","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nimport './Battle.css';\r\n\r\nclass Battle extends Component {\r\n  componentDidMount () {\r\n    /*const test = document.createElement(\"script\");\r\n    test.src = \"/test.js\";\r\n    test.async = true;\r\n\r\n    document.body.appendChild(test);\r\n    const RTCMultiConnection = window.RTCMultiConnection;\r\n    const conn = new RTCMultiConnection()\r\n    console.log(conn)*/\r\n  }\r\n   \r\n  render() {\r\n    return (\r\n      <Container fluid={true} className=\"flex-grow-column\">\r\n        <Row className=\"flex-grow-row\">\r\n          <Col md={9} className=\"flex-grow-column\">\r\n            <Container className=\"flex-grow-column\">\r\n              <Row className=\"flex-grow-row bordered\">\r\n                <section className=\"make-center\">\r\n                  <input type=\"text\" id=\"broadcast-id\" autoCorrect=\"off\" autoCapitalize=\"off\" size=\"20\"/>\r\n                  <button id=\"open-or-join\">Open or Join Broadcast</button>\r\n\r\n                  <div className=\"make-center\" id=\"broadcast-viewers-counter\"></div>\r\n\r\n                  <video id=\"video-preview\" controls loop></video>\r\n                </section>\r\n                <section className=\"make-center\">\r\n                  <input type=\"text\" id=\"broadcast-id2\" autoCorrect=\"off\" autoCapitalize=\"off\" size=\"20\"/>\r\n                  <button id=\"open-or-join2\">Open or Join Broadcast</button>\r\n\r\n                  <div className=\"make-center\" id=\"broadcast-viewers-counter2\"></div>\r\n\r\n                  <video id=\"video-preview2\" controls loop></video>\r\n                </section>\r\n              </Row>\r\n              <Row className=\"bordered\">\r\n                <p>\r\n                  Battle ID: {this.props.match.params.battleid} <br/>\r\n                  Rapper A vs. Rapper B <br/>\r\n                  Some other details\r\n                </p>\r\n              </Row>\r\n            </Container>\r\n          </Col>\r\n          <Col md={3} className=\"bordered\">\r\n            Chat bar\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Battle;\r\n","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst INITIAL_STATE = {\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  passwordOld: '',\r\n  error: null,\r\n  success: false,\r\n};\r\n\r\nclass ChangePasswordForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({ error: null, success: false });\r\n    const { passwordOld, passwordOne } = this.state;\r\n\r\n    var cred = this.props.firebase.EmailAuthProvider.credential(\r\n        this.props.email,\r\n        passwordOld\r\n    );\r\n\r\n    this.props.firebase.auth.currentUser.reauthenticateAndRetrieveDataWithCredential(cred)\r\n      .then(() => {\r\n        return this.props.firebase.doPasswordUpdate(passwordOne)\r\n      })\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE, success: true });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { passwordOld, passwordOne, passwordTwo, error, success } = this.state;\r\n    const isInvalid =\r\n      passwordOne !== passwordTwo || passwordOne === '' || passwordOld === '';\r\n\r\n    return (\r\n      <Form onSubmit={this.onSubmit}>\r\n        <h3>Change Password</h3>\r\n\r\n        <Form.Group controlId=\"passwordCurrent\">\r\n          <Form.Label>Current Password</Form.Label>\r\n          <Form.Control\r\n            name=\"passwordOld\"\r\n            value={passwordOld}\r\n            onChange={this.onChange}\r\n            type=\"password\"\r\n            placeholder=\"Current Password\"/>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"password\">\r\n          <Form.Label>New Password</Form.Label>\r\n          <Form.Control\r\n            name=\"passwordOne\"\r\n            value={passwordOne}\r\n            onChange={this.onChange}\r\n            type=\"password\"\r\n            placeholder=\"New Password\"/>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"passwordConfirm\">\r\n          <Form.Label>Confirm New Password</Form.Label>\r\n          <Form.Control\r\n            name=\"passwordTwo\"\r\n            value={passwordTwo}\r\n            onChange={this.onChange}\r\n            type=\"password\"\r\n            placeholder=\"Confirm New Password\"/>\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\" disabled={isInvalid}>\r\n          Save\r\n        </Button>\r\n\r\n        {error && <p className=\"error\">{error.message}</p>}\r\n        {success && <p className=\"success\">Password changed!</p>}\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(ChangePasswordForm);","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst INITIAL_STATE = {\r\n  error: null,\r\n  success: false,\r\n};\r\n\r\nclass DisplayNameForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const displayName = this.props.displayName;\r\n    this.state = { ...INITIAL_STATE, displayName };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({ error: null, success: false });\r\n    const { displayName } = this.state;\r\n\r\n    this.props.firebase.auth.currentUser\r\n      .updateProfile({\r\n        displayName: displayName\r\n      })\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE, success: true });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { displayName, error, success } = this.state;\r\n    const isInvalid = displayName === '';\r\n\r\n    return (\r\n      <Form onSubmit={this.onSubmit}>\r\n        <h3>Username</h3>\r\n        <Form.Group controlId=\"displayName\">\r\n          <Form.Control \r\n            name=\"displayName\"\r\n            value={displayName}\r\n            onChange={this.onChange}\r\n            type=\"text\"/>\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\" disabled={isInvalid}>\r\n          Save\r\n        </Button>\r\n\r\n        {error && <p className=\"error\">{error.message}</p>}\r\n        {success && <p className=\"success\">Username Updated! (Refresh for update)</p>}\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(DisplayNameForm);","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport ChangePasswordForm from '../ChangePassword';\r\nimport DisplayNameForm from './DisplayNameForm'\r\n\r\nimport { AuthUserContext } from '../Session';\r\nimport './Settings.css'\r\n\r\nclass Settings extends Component {\r\n  render() {\r\n    return (\r\n      <AuthUserContext.Consumer>\r\n        {authUser => (\r\n            <Container className=\"settings-container\">\r\n              <Row className=\"justify-content-md-center\">\r\n                <Col md=\"auto\">\r\n                  <h1>Settings</h1>\r\n                  <p>Account: {authUser.email}</p>\r\n                  <DisplayNameForm displayName={authUser.displayName} />\r\n                  <br/>\r\n                  <ChangePasswordForm email={authUser.email} />\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n          )}\r\n      </AuthUserContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Settings;","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {Typeahead} from 'react-bootstrap-typeahead';\r\nimport Loader from '../Loader';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\n\r\nconst INITIAL_STATE = {\r\n  bio: '',\r\n  artists: [],\r\n  genres: [],\r\n  error: null,\r\n  success: false,\r\n  showLoader: true\r\n};\r\n\r\nclass ProfileForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.firebase.users().on('value', snapshot => {\r\n      const userData = snapshot.val()[this.props.uid];\r\n      this.setState({\r\n        bio: userData[\"bio\"],\r\n        artists: userData[\"artists\"] || [],\r\n        genres: userData[\"genres\"] || [],\r\n        showLoader: false,\r\n      });\r\n    });\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({ error: null, success: false });\r\n    const { bio, artists, genres } = this.state;\r\n\r\n    this.props.firebase\r\n      .user(this.props.uid)\r\n      .update({\r\n        bio,\r\n        artists,\r\n        genres\r\n      }).then(() => {\r\n        this.setState({ success: true });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n  render() {\r\n    const { bio, artists, genres, error, success } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.onSubmit}>\r\n        <Loader visible={this.state.showLoader}/>\r\n        <Form.Group controlId=\"bio\">\r\n          <Form.Label>Bio</Form.Label>\r\n          <Form.Control \r\n            name=\"bio\"\r\n            value={bio}\r\n            onChange={this.onChange}\r\n            as=\"textarea\" \r\n            rows=\"3\" />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"artists\">\r\n          <Form.Label>Favorite Artists</Form.Label>\r\n          <Typeahead\r\n            id=\"artists\"\r\n            multiple\r\n            name=\"artists\"\r\n            selected={artists}\r\n            onChange={(selected) =>{\r\n              this.setState({artists: selected});\r\n            }}\r\n            options={[\"john\", \"elton\", \"candy\", \"man\", \"ooga\", \"booga\"]}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"genres\">\r\n          <Form.Label>Favorite Genres</Form.Label>\r\n          <Typeahead\r\n            id=\"genres\"\r\n            multiple\r\n            name=\"genres\"\r\n            selected={genres}\r\n            onChange={(selected) =>{\r\n              this.setState({genres: selected});\r\n            }}\r\n            options={[\"john\", \"elton\", \"candy\", \"man\", \"ooga\", \"booga\"]}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          Save\r\n        </Button>\r\n\r\n        {error && <p className=\"error\">{error.message}</p>}\r\n        {success && <p className=\"success\">Profile updated!</p>}\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(ProfileForm);","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Settings from '../Settings';\r\nimport ProfileForm from './ProfileForm';\r\n\r\nimport { AuthUserContext, withAuthorization } from '../Session';\r\n\r\nclass Profile extends Component {\r\n  render() {\r\n    return (\r\n      <AuthUserContext.Consumer>\r\n        {authUser => (\r\n            <Tabs defaultActiveKey=\"profile\" id=\"uncontrolled-tab-example\">\r\n              <Tab eventKey=\"profile\" title=\"Profile\">\r\n                <Container className=\"settings-container\">\r\n                  <Row className=\"justify-content-md-center\">\r\n                    <Col md=\"auto\">\r\n                      <h1>Profile</h1>\r\n                      <ProfileForm uid={authUser.uid}/>\r\n                    </Col>\r\n                  </Row>\r\n                </Container>\r\n              </Tab>\r\n              <Tab eventKey=\"settings\" title=\"Settings\">\r\n                <Settings />\r\n              </Tab>\r\n              {false && <Tab eventKey=\"notifications\" title=\"Notifications\">\r\n                <div>Coming soon</div>\r\n              </Tab>}\r\n            </Tabs>\r\n          )}\r\n      </AuthUserContext.Consumer>\r\n            \r\n    );\r\n  }\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\nexport default withAuthorization(condition)(Profile);\r\n","import React, { Component } from 'react';\r\nimport queryString from 'query-string';\r\n\r\nclass Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { searchTerm: null };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let search = queryString.parse(this.props.history.location.search).q\r\n    this.setState({searchTerm: decodeURI(search)})\r\n  }\r\n\r\n  componentWillReceiveProps(nProps){\r\n    this.setState({searchTerm: decodeURI(queryString.parse(this.props.history.location.search).q)})\r\n  }\r\n\r\n  render() {\r\n    const term = this.state.searchTerm;\r\n    return (\r\n      <div>\r\n        <h1>Search</h1>\r\n        {term &&\r\n          <p>You searched for \"{term}\".</p>\r\n        }\r\n      </div>\r\n  \r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Loader from '../Loader'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withFirebase } from '../Firebase';\r\nimport { compose } from 'recompose';\r\n\r\nimport './Signup.css';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst INITIAL_STATE = {\r\n  username: '',\r\n  email: '',\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  error: null,\r\n  showLoader: false,\r\n};\r\n\r\nclass SignupBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({ showLoader: true });\r\n    const { username, email, passwordOne } = this.state;\r\n\r\n    const userFields = {\r\n      bio: '',\r\n      artists: [],\r\n      genres: []\r\n    }\r\n\r\n    this.props.firebase\r\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n      .then(authUser => {\r\n        return authUser.user.updateProfile({\r\n          displayName: username\r\n        })\r\n        .then(() => {\r\n          return authUser;\r\n        });\r\n      })\r\n      .then(authUser => {\r\n        return this.props.firebase\r\n          .user(authUser.user.uid)\r\n          .set({\r\n            ...userFields,\r\n            username,\r\n            email,\r\n          })\r\n      })\r\n      .then(() => {\r\n        return this.props.firebase.doSignOut()\r\n      })\r\n      .then(() => {\r\n        return this.props.firebase.doSignInWithEmailAndPassword(email, passwordOne)\r\n      })  \r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.props.history.push(ROUTES.HOME);\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error, showLoader: false });\r\n      });\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      username,\r\n      email,\r\n      passwordOne,\r\n      passwordTwo,\r\n      error,\r\n    } = this.state;\r\n\r\n    const isInvalid =\r\n      passwordOne !== passwordTwo ||\r\n      passwordOne === '' ||\r\n      email === '' ||\r\n      username === '';\r\n\r\n    return (\r\n      <Container>\r\n        <Loader visible={this.state.showLoader} />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md=\"auto\">\r\n            <Form onSubmit={this.onSubmit}>\r\n              <h1>Sign up</h1>\r\n\r\n              <Form.Group controlId=\"username\">\r\n                <Form.Label>Full Name</Form.Label>\r\n                <Form.Control \r\n                  name=\"username\"\r\n                  value={username}\r\n                  onChange={this.onChange}\r\n                  type=\"text\"\r\n                  placeholder=\"John Doe\" />\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"email\">\r\n                <Form.Label>Email Address</Form.Label>\r\n                <Form.Control\r\n                  name=\"email\"\r\n                  value={email}\r\n                  onChange={this.onChange}\r\n                  type=\"text\"\r\n                  placeholder=\"Email Address\"/>\r\n                <Form.Text className=\"text-muted\">\r\n                  We'll never share your email with anyone else.\r\n                </Form.Text>\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"password\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control\r\n                  name=\"passwordOne\"\r\n                  value={passwordOne}\r\n                  onChange={this.onChange}\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"/>\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"passwordConfirm\">\r\n                <Form.Label>Confirm Password</Form.Label>\r\n                <Form.Control\r\n                  name=\"passwordTwo\"\r\n                  value={passwordTwo}\r\n                  onChange={this.onChange}\r\n                  type=\"password\"\r\n                  placeholder=\"Confirm Password\"/>\r\n              </Form.Group>\r\n\r\n              <Button variant=\"primary\" type=\"submit\" disabled={isInvalid}>\r\n                Sign up\r\n              </Button>\r\n\r\n              {error && <p className=\"error\">{error.message}</p>}\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst Signup = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(SignupBase);\r\n\r\nexport default Signup;\r\n","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Loader from '../Loader'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withFirebase } from '../Firebase';\r\nimport { compose } from 'recompose';\r\n\r\nimport './Signin.css'\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  password: '',\r\n  error: null,\r\n  showLoader: false,\r\n};\r\n\r\nclass SigninBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    this.setState({ showLoader: true });\r\n    const { email, password } = this.state;\r\n\r\n    this.props.firebase\r\n      .doSignInWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.props.history.push(ROUTES.HOME);\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error, showLoader: false });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, password, error } = this.state;\r\n\r\n    const isInvalid = password === '' || email === '';\r\n\r\n    return (\r\n      <Container>\r\n        <Loader visible={this.state.showLoader} />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md=\"auto\">\r\n            <Form onSubmit={this.onSubmit}>\r\n              <h1>Sign in</h1>\r\n\r\n              <Form.Group controlId=\"email\">\r\n                <Form.Label>Email Address</Form.Label>\r\n                <Form.Control\r\n                  name=\"email\"\r\n                  value={email}\r\n                  onChange={this.onChange}\r\n                  type=\"text\"\r\n                  placeholder=\"Email Address\"/>\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"password\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control\r\n                name=\"password\"\r\n                value={password}\r\n                onChange={this.onChange}\r\n                type=\"password\"\r\n                placeholder=\"Password\"/>\r\n                <LinkContainer to={ROUTES.FORGOTPW}>\r\n                  <Nav.Link className=\"link-sm\">Forgot your password?</Nav.Link>\r\n                </LinkContainer>\r\n                  \r\n              </Form.Group>\r\n\r\n              <Button variant=\"primary\" type=\"submit\" disabled={isInvalid}>\r\n                Sign in\r\n              </Button>\r\n\r\n              {error && <p className=\"error\">{error.message}</p>}\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst Signin = compose(\r\n  withRouter,\r\n  withFirebase,\r\n)(SigninBase);\r\n\r\nexport default Signin;","import React, { Component } from 'react';\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nimport './NotFound.css'\r\n\r\nclass NotFound extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"notfound-container\">\r\n        <h1>404</h1>\r\n        <p>The page you are looking for does not exist. :(</p>\r\n        <LinkContainer to={ROUTES.HOME} className=\"notfound-link\">\r\n           <Nav.Link>Go Home</Nav.Link>\r\n        </LinkContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFound;\r\n","import React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  error: null,\r\n  success: false\r\n};\r\n\r\nclass ForgotPassword extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    this.setState({ error: null, success: false });\r\n    const { email } = this.state;\r\n\r\n    this.props.firebase\r\n      .doPasswordReset(email)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE, success: true });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, error, success } = this.state;\r\n    const isInvalid = email === '';\r\n\r\n    return (\r\n      <Container>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md=\"auto\">\r\n            <Form onSubmit={this.onSubmit}>\r\n              <h1>Reset Password</h1>\r\n\r\n              <Form.Group controlId=\"email\">\r\n                <Form.Label>Email Address</Form.Label>\r\n                <Form.Control\r\n                  name=\"email\"\r\n                  value={email}\r\n                  onChange={this.onChange}\r\n                  type=\"text\"\r\n                  placeholder=\"Email Address\"/>\r\n              </Form.Group>\r\n\r\n              <Button variant=\"primary\" type=\"submit\" disabled={isInvalid}>\r\n                Reset Password\r\n              </Button>\r\n\r\n              {error && <p className=\"error\">{error.message}</p>}\r\n              {success && <p className=\"success\">Successfully reset! You show have received an email.</p>}\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(ForgotPassword);\r\n","import React, { Component } from 'react';\r\nimport { \r\n  Provider, \r\n  Heading, \r\n  Subhead, \r\n  Flex,\r\n  NavLink,\r\n  Small\r\n} from 'rebass'\r\nimport {\r\n  Hero, \r\n  CallToAction, \r\n  ScrollDownIndicator, \r\n  Feature, \r\n  Testimony,\r\n  Contributor\r\n} from 'react-landing-page'\r\n\r\nimport * as ROUTES from '../../constants/routes';\r\nimport './Landing.css';\r\nimport jingPhoto from './jing.jpg';\r\nimport rudyPhoto from './rudy.jpg';\r\n\r\nclass Landing extends Component {\r\n  render() {\r\n    return (\r\n      <Provider className=\"landing-wrapper\">\r\n        <Hero\r\n          color=\"black\"\r\n          bg=\"white\"\r\n          backgroundImage=\"https://source.unsplash.com/jxaj-UrzQbc/1600x900\"\r\n        >\r\n            <Heading>Name of your app</Heading>\r\n            <Subhead>a couple more words</Subhead>\r\n            <CallToAction href={ROUTES.SIGNUP} mt={3}>Sign Up!</CallToAction>\r\n            <ScrollDownIndicator/>\r\n        </Hero>\r\n        <Heading className=\"margin-heading\" textAlign=\"center\">Features</Heading>\r\n        <Flex flexWrap=\"wrap\" justifyContent=\"center\">\r\n            <Feature icon=\"\" description=\"What your users see first\">\r\n                Hero\r\n            </Feature>\r\n            <Feature icon=\"\" description=\"What your app can do\">\r\n                Features\r\n            </Feature>\r\n            <Feature icon=\"\" description=\"How to keep in touch\">\r\n                Sign Up\r\n            </Feature>\r\n        </Flex>\r\n        <Heading className=\"margin-heading\" textAlign=\"center\">What people are saying</Heading>\r\n        <Flex alignItems=\"flex-end\" justifyContent=\"space-around\">\r\n\r\n            <Testimony\r\n                className=\"padded-testimony grow-card\"\r\n                authorAvatar={jingPhoto}\r\n                authorName=\"Herman Starikov\"\r\n                authorTitle=\"developer\">\r\n                Use react-landing-page for your landing page needs. Or do not, I am not a beggar...\r\n            </Testimony>\r\n\r\n            <Testimony\r\n                className=\"padded-testimony grow-card\"\r\n                authorAvatar={jingPhoto}\r\n                authorName=\"Herman Starikov\"\r\n                authorTitle=\"developer\">\r\n                Use react-landing-page for your landing page needs. Or do not, I am not a beggar...\r\n            </Testimony>\r\n\r\n            <Testimony\r\n                className=\"padded-testimony grow-card\"\r\n                authorAvatar={jingPhoto}\r\n                authorName=\"Herman Starikov\"\r\n                authorTitle=\"developer\">\r\n                Use react-landing-page for your landing page needs. Or do not, I am not a beggar...\r\n            </Testimony>\r\n\r\n        </Flex>\r\n        <Heading className=\"margin-heading\" textAlign=\"center\">Made by</Heading>\r\n        <Flex justifyContent=\"center\">\r\n            <Contributor\r\n                className=\"grow-card\"\r\n                fullName=\"Jinghu Lei\"\r\n                title=\"developer\"\r\n                avatar={jingPhoto}\r\n                >\r\n                <Flex>\r\n                    <NavLink href='https://github.com/jinghul'>GitHub</NavLink>\r\n                </Flex>\r\n            </Contributor>\r\n\r\n            <Contributor\r\n                className=\"grow-card\"\r\n                fullName=\"Rudhra Raveendran\"\r\n                title=\"developer\"\r\n                avatar={rudyPhoto}\r\n                >\r\n                <Flex>\r\n                    <NavLink href='https://github.com/ROODAY'>GitHub</NavLink>\r\n                </Flex>\r\n            </Contributor>\r\n        </Flex>\r\n        <Flex is=\"footer\" alignItems=\"center\" p={3}>\r\n            <NavLink children=\"Source Code\" href=\"#\"/>\r\n            <NavLink children=\"Writeup\" href=\"#\"/>\r\n            <Small color=\"grey\" ml=\"auto\"> NUS Ventures, 2019</Small>\r\n        </Flex>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Landing;\r\n","import React, { Component } from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Countdown from 'react-countdown-now';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Loader from '../Loader';\r\n\r\nimport './Post.css'\r\nimport { withFirebase } from '../Firebase';\r\nimport { withAuthorization } from '../Session';\r\n\r\n// fix countdown, perhaps use better speech to text\r\n\r\nconst timer = 6 * 1000;\r\n\r\nconst INITIAL_STATE = {\r\n  title: '',\r\n  description: '',\r\n  error: null,\r\n  success: false,\r\n  showForm: false,\r\n  recording: false,\r\n  audioBlob: null,\r\n  transcript: '',\r\n  showLoader: false,\r\n  countdownDate: Date.now() + timer\r\n};\r\n\r\nfunction uuidv4() {\r\n  return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\r\n    // eslint-disable-next-line\r\n    (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\r\n  )\r\n}\r\n\r\nclass Post extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      ...INITIAL_STATE,\r\n      audioUrl: null\r\n    }\r\n\r\n    this.countdown = React.createRef();\r\n\r\n    this.startRecording = this.startRecording.bind(this);\r\n  }\r\n\r\n  startRecording() {\r\n    navigator.mediaDevices.getUserMedia({ audio: true })\r\n    .then(stream => {\r\n      const mediaRecorder = new MediaRecorder(stream);\r\n      const recognition = new window.webkitSpeechRecognition();\r\n      mediaRecorder.start();\r\n      recognition.start();\r\n      \r\n      recognition.onresult = (event) => {\r\n        const speechToText = event.results[0][0].transcript;\r\n        this.setState({transcript: speechToText, showForm: true});\r\n      }\r\n\r\n      recognition.onnomatch = (event) => {\r\n        this.setState({transcript: \"Could not transcribe\", showForm: true});\r\n      }\r\n\r\n      this.countdown.current.date = Date.now() + 3000;\r\n      this.countdown.current.getApi().start();\r\n      this.setState({recording: true, success: null})\r\n\r\n      const audioChunks = [];\r\n\r\n      mediaRecorder.addEventListener(\"dataavailable\", event => {\r\n        audioChunks.push(event.data);\r\n      });\r\n\r\n      mediaRecorder.addEventListener(\"stop\", () => {\r\n        const audioBlob = new Blob(audioChunks);\r\n        const audioUrl = URL.createObjectURL(audioBlob);\r\n        this.setState({audioUrl, audioBlob, recording: false});\r\n\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(audioBlob); \r\n        reader.onloadend = function() {\r\n          var base64data = reader.result;\r\n        }\r\n      });\r\n\r\n      setTimeout(() => {\r\n        mediaRecorder.stop();\r\n        recognition.stop();\r\n      }, timer);\r\n    });\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({showLoader: true});\r\n    const {title, description, transcript} = this.state;\r\n    const username = this.props.firebase.auth.currentUser.displayName;\r\n    const id = uuidv4();\r\n\r\n    this.props.firebase.song(id).put(this.state.audioBlob)\r\n    .then(snapshot => {\r\n      return this.props.firebase.song(id).getDownloadURL();\r\n    })\r\n    .then(audioPath => {\r\n      return this.props.firebase.post(id).set({\r\n        username,\r\n        title,\r\n        description,\r\n        audioPath,\r\n        transcript,\r\n        id\r\n      });\r\n    })\r\n    .then(() => {\r\n      this.setState({ ...INITIAL_STATE, success: true, showLoader: false });\r\n    })\r\n    .catch(error => {\r\n      this.setState({ error, showLoader: false });\r\n    });\r\n  }\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  }\r\n\r\n\r\n  render() {\r\n    const { title, description, error, success } = this.state;\r\n    const isInvalid = title === '' || description === '';\r\n\r\n    const countdownRenderer = ({ seconds }) => {\r\n      if (seconds === 1) {\r\n        return <h3>Time Left: {seconds} second</h3>;\r\n      } else {\r\n        return <h3>Time Left: {seconds} seconds</h3>;\r\n      }\r\n    };\r\n\r\n    return (\r\n      <Container className=\"settings-container\">\r\n        <Loader visible={this.state.showLoader} />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md=\"auto\">\r\n            <h1>Upload a song</h1>\r\n            <p>Press record and sing until the timer is over! <br/>\r\n            If you're satisfied, upload the clip to our servers for processing, <br/>\r\n            or press Start to record again!</p>\r\n            <Button onClick={this.startRecording}>Start Recording</Button> {this.state.recording && <div id=\"rec\">{null}</div>}<br/>\r\n            <Countdown date={this.state.countdownDate} autoStart={false} ref={this.countdown} renderer={countdownRenderer} />\r\n\r\n            {this.state.showForm && \r\n              \r\n              <Form onSubmit={this.onSubmit}>\r\n                <h3>Your Song</h3>\r\n                <audio src={this.state.audioUrl} controls></audio>\r\n                <p>{this.state.transcript}</p>\r\n                <Form.Group controlId=\"title\">\r\n                  <Form.Label>Title</Form.Label>\r\n                  <Form.Control \r\n                    name=\"title\"\r\n                    value={title}\r\n                    onChange={this.onChange}\r\n                    type=\"text\"/>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"description\">\r\n                  <Form.Label>Description</Form.Label>\r\n                  <Form.Control \r\n                    name=\"description\"\r\n                    value={description}\r\n                    onChange={this.onChange}\r\n                    as=\"textarea\" \r\n                    rows=\"3\" />\r\n                </Form.Group>\r\n\r\n                <Button variant=\"primary\" type=\"submit\" disabled={isInvalid}>\r\n                  Upload\r\n                </Button>\r\n              </Form>\r\n            }\r\n\r\n            {error && <p className=\"error\">{error.message}</p>}\r\n            {success && <p className=\"success\">Song Uploaded!</p>}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\nexport default withAuthorization(condition)(withFirebase(Post));","import React, { Component } from 'react';\nimport './bootstrap.min.css';\nimport './App.css';\n\nimport { \n  BrowserRouter as Router, \n  Switch,\n  Route \n} from 'react-router-dom';\nimport {\n  Navigation,\n  Home,\n  Battle,\n  Search,\n  Profile,\n  Signup,\n  Signin,\n  ForgotPassword,\n  NotFound,\n  Landing,\n  Post\n} from './components'\nimport * as ROUTES from './constants/routes';\nimport { withAuthentication } from './components/Session';\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <Navigation ref={this.nav}/>\n        \n        <Switch>\n          <Route exact path={ROUTES.LANDING} component={Landing} />\n          <Route path={ROUTES.HOME} component={Home} />\n          <Route path={ROUTES.BATTLE} component={Battle} />\n          <Route path={ROUTES.PROFILE} component={Profile} />\n          <Route path={ROUTES.SEARCH} component={Search} />\n          <Route path={ROUTES.SIGNUP} component={Signup} />\n          <Route path={ROUTES.SIGNIN} component={Signin} />\n          <Route path={ROUTES.FORGOTPW} component={ForgotPassword} />\n          <Route path={ROUTES.POST} component={Post} />\n          <Route component={NotFound} />\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default withAuthentication(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './App';\nimport Firebase, { FirebaseContext } from './components/Firebase';\n\nReactDOM.render(\n  <FirebaseContext.Provider value={new Firebase()}>\n    <App />\n  </FirebaseContext.Provider>, \n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/jing.72de4501.jpg\";"],"sourceRoot":""}